((t,e)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).bootstrap=e()})(this,function(){let n=new Map,D={set(t,e,i){n.has(t)||n.set(t,new Map);t=n.get(t);t.has(e)||0===t.size?t.set(e,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(t.keys())[0]}.`)},get:(t,e)=>n.has(t)&&n.get(t).get(e)||null,remove(t,e){var i;n.has(t)&&((i=n.get(t)).delete(e),0===i.size)&&n.delete(t)}},N="transitionend",Z=t=>t=t&&window.CSS&&window.CSS.escape?t.replace(/#([^\s"#']+)/g,(t,e)=>"#"+CSS.escape(e)):t,q=t=>{t.dispatchEvent(new Event(N))},a=t=>!(!t||"object"!=typeof t)&&void 0!==(t=void 0!==t.jquery?t[0]:t).nodeType,o=t=>a(t)?t.jquery?t[0]:t:"string"==typeof t&&0<t.length?document.querySelector(Z(t)):null,s=e=>{if(!a(e)||0===e.getClientRects().length)return!1;let t="visible"===getComputedStyle(e).getPropertyValue("visibility"),i=e.closest("details:not([open])");if(i&&i!==e){let t=e.closest("summary");if(t&&t.parentNode!==i)return!1;if(null===t)return!1}return t},r=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),R=t=>{var e;return document.documentElement.attachShadow?"function"==typeof t.getRootNode?(e=t.getRootNode())instanceof ShadowRoot?e:null:t instanceof ShadowRoot?t:t.parentNode?R(t.parentNode):null:null},j=()=>{},W=t=>{t.offsetHeight},H=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,F=[],l=()=>"rtl"===document.documentElement.dir,t=n=>{var t=()=>{let i=H();if(i){let t=n.NAME,e=i.fn[t];i.fn[t]=n.jQueryInterface,i.fn[t].Constructor=n,i.fn[t].noConflict=()=>(i.fn[t]=e,n.jQueryInterface)}};"loading"===document.readyState?(F.length||document.addEventListener("DOMContentLoaded",()=>{for(var t of F)t()}),F.push(t)):t()},h=(t,e=[],i=t)=>"function"==typeof t?t(...e):i,U=(n,o,t=!0)=>{if(t){t=(()=>{if(!o)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(o);var i=Number.parseFloat(t),n=Number.parseFloat(e);return i||n?(t=t.split(",")[0],e=e.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(e))):0})()+5;let e=!1,i=({target:t})=>{t===o&&(e=!0,o.removeEventListener(N,i),h(n))};o.addEventListener(N,i),setTimeout(()=>{e||q(o)},t)}else h(n)},V=(t,e,i,n)=>{var o=t.length;let s=t.indexOf(e);return-1===s?!i&&n?t[o-1]:t[0]:(s+=i?1:-1,n&&(s=(s+o)%o),t[Math.max(0,Math.min(s,o-1))])},G=/[^.]*(?=\..*)\.|.*/,K=/\..*/,Y=/::\d+$/,J={},Q=1,X={mouseenter:"mouseover",mouseleave:"mouseout"},$=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function tt(t,e){return e&&e+"::"+Q++||t.uidEvent||Q++}function et(t){var e=tt(t);return t.uidEvent=e,J[e]=J[e]||{},J[e]}function it(t,e,i=null){return Object.values(t).find(t=>t.callable===e&&t.delegationSelector===i)}function nt(t,e,i){var n="string"==typeof e,e=!n&&e||i;let o=at(t);return[n,e,o=$.has(o)?o:t]}function ot(n,o,s,a,r){if("string"==typeof o&&n){let[t,e,i]=nt(o,s,a);if(o in X){let t=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};e=t(e)}var a=et(n),a=a[i]||(a[i]={}),l=it(a,e,t?s:null);if(l)return l.oneOff=l.oneOff&&r;var h,c,u,d,p,l=tt(e,o.replace(G,"")),o=t?(u=n,d=s,p=e,function e(i){var n=u.querySelectorAll(d);for(let t=i.target;t&&t!==this;t=t.parentNode)for(var o of n)if(o===t)return rt(i,{delegateTarget:t}),e.oneOff&&m.off(u,i.type,d,p),p.apply(t,[i])}):(h=n,c=e,function t(e){return rt(e,{delegateTarget:h}),t.oneOff&&m.off(h,e.type,c),c.apply(h,[e])});o.delegationSelector=t?s:null,o.callable=e,o.oneOff=r,a[o.uidEvent=l]=o,n.addEventListener(i,o,t)}}function st(t,e,i,n,o){n=it(e[i],n,o);n&&(t.removeEventListener(i,n,Boolean(o)),delete e[i][n.uidEvent])}function at(t){return t=t.replace(K,""),X[t]||t}let m={on(t,e,i,n){ot(t,e,i,n,!1)},one(t,e,i,n){ot(t,e,i,n,!0)},off(r,l,h,c){if("string"==typeof l&&r){let[t,e,n]=nt(l,h,c),o=n!==l,s=et(r),a=s[n]||{},i=l.startsWith(".");if(void 0===e){if(i)for(let t of Object.keys(s)){u=void 0;d=void 0;p=void 0;m=void 0;g=void 0;f=void 0;_=void 0;var u=r;var d=s;var p=t;var m=l.slice(1);var f,_,g=d[p]||{};for([f,_]of Object.entries(g))f.includes(m)&&st(u,d,p,_.callable,_.delegationSelector)}for(let[e,i]of Object.entries(a)){let t=e.replace(Y,"");o&&!l.includes(t)||st(r,s,n,i.callable,i.delegationSelector)}}else Object.keys(a).length&&st(r,s,n,e,t?h:null)}},trigger(t,e,i){if("string"!=typeof e||!t)return null;var n=H();let o=null,s=!0,a=!0,r=!1;e!==at(e)&&n&&(o=n.Event(e,i),n(t).trigger(o),s=!o.isPropagationStopped(),a=!o.isImmediatePropagationStopped(),r=o.isDefaultPrevented());n=rt(new Event(e,{bubbles:s,cancelable:!0}),i);return r&&n.preventDefault(),a&&t.dispatchEvent(n),n.defaultPrevented&&o&&o.preventDefault(),n}};function rt(i,n={}){for(let[t,e]of Object.entries(n))try{i[t]=e}catch(n){Object.defineProperty(i,t,{configurable:!0,get:()=>e})}return i}function lt(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function ht(t){return t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase())}let c={setDataAttribute(t,e,i){t.setAttribute("data-bs-"+ht(e),i)},removeDataAttribute(t,e){t.removeAttribute("data-bs-"+ht(e))},getDataAttributes(e){if(!e)return{};var i,n={};for(i of Object.keys(e.dataset).filter(t=>t.startsWith("bs")&&!t.startsWith("bsConfig"))){let t=i.replace(/^bs/,"");n[t=t.charAt(0).toLowerCase()+t.slice(1,t.length)]=lt(e.dataset[i])}return n},getDataAttribute:(t,e)=>lt(t.getAttribute("data-bs-"+ht(e)))};class ct{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){var i=a(e)?c.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...a(e)?c.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(i,t=this.constructor.DefaultType){for(var[n,o]of Object.entries(t)){let t=i[n],e=a(t)?"element":null==(s=t)?""+s:Object.prototype.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(e))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${e}" but expected type "${o}".`)}var s}}class e extends ct{constructor(t,e){super(),(t=o(t))&&(this._element=t,this._config=this._getConfig(e),D.set(this._element,this.constructor.DATA_KEY,this))}dispose(){D.remove(this._element,this.constructor.DATA_KEY),m.off(this._element,this.constructor.EVENT_KEY);for(var t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){U(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return D.get(o(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.0"}static get DATA_KEY(){return"bs."+this.NAME}static get EVENT_KEY(){return"."+this.DATA_KEY}static eventName(t){return""+t+this.EVENT_KEY}}let ut=e=>{let i=e.getAttribute("data-bs-target");if(!i||"#"===i){let t=e.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t="#"+t.split("#")[1]),i=t&&"#"!==t?t.trim():null}return Z(i)},u={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter(t=>t.matches(e)),parents(t,e){var i=[];let n=t.parentNode.closest(e);for(;n;)i.push(n),n=n.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){var e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>t+':not([tabindex^="-"])').join(",");return this.find(e,t).filter(t=>!r(t)&&s(t))},getSelectorFromElement(t){t=ut(t);return t&&u.findOne(t)?t:null},getElementFromSelector(t){t=ut(t);return t?u.findOne(t):null},getMultipleElementsFromSelector(t){t=ut(t);return t?u.find(t):[]}},dt=(e,i="hide")=>{let t="click.dismiss"+e.EVENT_KEY,n=e.NAME;m.on(document,t,`[data-bs-dismiss="${n}"]`,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),r(this)||(t=u.getElementFromSelector(this)||this.closest("."+n),e.getOrCreateInstance(t)[i]())})};class pt extends e{static get NAME(){return"alert"}close(){var t;m.trigger(this._element,"close.bs.alert").defaultPrevented||(this._element.classList.remove("show"),t=this._element.classList.contains("fade"),this._queueCallback(()=>this._destroyElement(),this._element,t))}_destroyElement(){this._element.remove(),m.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(e){return this.each(function(){var t=pt.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}dt(pt,"close"),t(pt);let mt='[data-bs-toggle="button"]';class ft extends e{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){var t=ft.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}m.on(document,"click.bs.button.data-api",mt,t=>{t.preventDefault();t=t.target.closest(mt);ft.getOrCreateInstance(t).toggle()}),t(ft);let _t={endCallback:null,leftCallback:null,rightCallback:null},gt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class vt extends ct{constructor(t,e){super(),(this._element=t)&&vt.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return _t}static get DefaultType(){return gt}static get NAME(){return"swipe"}dispose(){m.off(this._element,".bs.swipe")}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),h(this._config.endCallback)}_move(t){this._deltaX=t.touches&&1<t.touches.length?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){var t=Math.abs(this._deltaX);t<=40||(t=t/this._deltaX,this._deltaX=0,t&&h(0<t?this._config.rightCallback:this._config.leftCallback))}_initEvents(){this._supportPointerEvents?(m.on(this._element,"pointerdown.bs.swipe",t=>this._start(t)),m.on(this._element,"pointerup.bs.swipe",t=>this._end(t)),this._element.classList.add("pointer-event")):(m.on(this._element,"touchstart.bs.swipe",t=>this._start(t)),m.on(this._element,"touchmove.bs.swipe",t=>this._move(t)),m.on(this._element,"touchend.bs.swipe",t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||0<navigator.maxTouchPoints}}let yt="next",d="prev",i="left",bt="right",wt="slid.bs.carousel",xt="carousel",Tt="active",Pt={ArrowLeft:bt,ArrowRight:i},Lt={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ct={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Et extends e{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=u.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===xt&&this.cycle()}static get Default(){return Lt}static get DefaultType(){return Ct}static get NAME(){return"carousel"}next(){this._slide(yt)}nextWhenVisible(){!document.hidden&&s(this._element)&&this.next()}prev(){this._slide(d)}pause(){this._isSliding&&q(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?m.one(this._element,wt,()=>this.cycle()):this.cycle())}to(t){var e,i=this._getItems();t>i.length-1||t<0||(this._isSliding?m.one(this._element,wt,()=>this.to(t)):(e=this._getItemIndex(this._getActive()))!==t&&(e=e<t?yt:d,this._slide(e,i[t])))}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&m.on(this._element,"keydown.bs.carousel",t=>this._keydown(t)),"hover"===this._config.pause&&(m.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),m.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&vt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let t of u.find(".carousel-item img",this._element))m.on(t,"dragstart.bs.carousel",t=>t.preventDefault());let t={leftCallback:()=>this._slide(this._directionToOrder(i)),rightCallback:()=>this._slide(this._directionToOrder(bt)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new vt(this._element,t)}_keydown(t){var e;/input|textarea/i.test(t.target.tagName)||(e=Pt[t.key])&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){var e;this._indicatorsElement&&((e=u.findOne(".active",this._indicatorsElement)).classList.remove(Tt),e.removeAttribute("aria-current"),e=u.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement))&&(e.classList.add(Tt),e.setAttribute("aria-current","true"))}_updateInterval(){var t=this._activeElement||this._getActive();t&&(t=Number.parseInt(t.getAttribute("data-bs-interval"),10),this._config.interval=t||this._config.defaultInterval)}_slide(e,r=null){if(!this._isSliding){let o=this._getActive(),s=e===yt,a=r||V(this._getItems(),o,s,this._config.wrap);if(a!==o){let i=this._getItemIndex(a),n=t=>m.trigger(this._element,t,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(o),to:i});if(!n("slide.bs.carousel").defaultPrevented&&o&&a){r=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(i),this._activeElement=a;let t=s?"carousel-item-start":"carousel-item-end",e=s?"carousel-item-next":"carousel-item-prev";a.classList.add(e),W(a),o.classList.add(t),a.classList.add(t),this._queueCallback(()=>{a.classList.remove(t,e),a.classList.add(Tt),o.classList.remove(Tt,e,t),this._isSliding=!1,n(wt)},o,this._isAnimated()),r&&this.cycle()}}}}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return u.findOne(".active.carousel-item",this._element)}_getItems(){return u.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return l()?t===i?d:yt:t===i?yt:d}_orderToDirection(t){return l()?t===d?i:bt:t===d?bt:i}static jQueryInterface(e){return this.each(function(){var t=Et.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}m.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(t){var e=u.getElementFromSelector(this);e&&e.classList.contains(xt)&&(t.preventDefault(),t=Et.getOrCreateInstance(e),(e=this.getAttribute("data-bs-slide-to"))?t.to(e):"next"===c.getDataAttribute(this,"slide")?t.next():t.prev(),t._maybeEnableCycle())}),m.on(window,"load.bs.carousel.data-api",()=>{var t;for(t of u.find('[data-bs-ride="carousel"]'))Et.getOrCreateInstance(t)}),t(Et);let At="show",kt="collapse",St="collapsing",Mt='[data-bs-toggle="collapse"]',zt={parent:null,toggle:!0},Ot={parent:"(null|element)",toggle:"boolean"};class It extends e{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];let n=u.find(Mt);for(let i of n){let t=u.getSelectorFromElement(i),e=u.find(t).filter(t=>t===this._element);null!==t&&e.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return zt}static get DefaultType(){return Ot}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(!this._isTransitioning&&!this._isShown()){let e=[];if(!((e=this._config.parent?this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(t=>t!==this._element).map(t=>It.getOrCreateInstance(t,{toggle:!1})):e).length&&e[0]._isTransitioning||m.trigger(this._element,"show.bs.collapse").defaultPrevented)){for(let t of e)t.hide();let t=this._getDimension();this._element.classList.remove(kt),this._element.classList.add(St),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;var i="scroll"+(t[0].toUpperCase()+t.slice(1));this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(St),this._element.classList.add(kt,At),this._element.style[t]="",m.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[t]=this._element[i]+"px"}}}hide(){if(!this._isTransitioning&&this._isShown()&&!m.trigger(this._element,"hide.bs.collapse").defaultPrevented){let t=this._getDimension();this._element.style[t]=this._element.getBoundingClientRect()[t]+"px",W(this._element),this._element.classList.add(St),this._element.classList.remove(kt,At);for(let t of this._triggerArray){var e=u.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(St),this._element.classList.add(kt),m.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}}_isShown(t=this._element){return t.classList.contains(At)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=o(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent){let t=this._getFirstLevelChildren(Mt);for(var e of t){let t=u.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}}_getFirstLevelChildren(t){let e=u.find(":scope .collapse .collapse",this._config.parent);return u.find(t,this._config.parent).filter(t=>!e.includes(t))}_addAriaAndCollapsedClass(t,e){if(t.length)for(var i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(e){let i={};return"string"==typeof e&&/show|hide/.test(e)&&(i.toggle=!1),this.each(function(){var t=It.getOrCreateInstance(this,i);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}m.on(document,"click.bs.collapse.data-api",Mt,function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(let t of u.getMultipleElementsFromSelector(this))It.getOrCreateInstance(t,{toggle:!1}).toggle()}),t(It);var E="top",A="bottom",k="right",S="left",Bt="auto",M=[E,A,k,S],z="start",y="end",Dt="clippingParents",Nt="viewport",_="popper",Zt="reference",qt=M.reduce(function(t,e){return t.concat([e+"-"+z,e+"-"+y])},[]),Rt=[].concat(M,[Bt]).reduce(function(t,e){return t.concat([e,e+"-"+z,e+"-"+y])},[]),jt="beforeRead",Wt="afterRead",Ht="beforeMain",Ft="afterMain",Ut="beforeWrite",Vt="afterWrite",Gt=[jt,"read",Wt,Ht,"main",Ft,Ut,"write",Vt];function g(t){return t?(t.nodeName||"").toLowerCase():null}function b(t){var e;return null==t?window:"[object Window]"!==t.toString()?(e=t.ownerDocument)&&e.defaultView||window:t}function v(t){return t instanceof b(t).Element||t instanceof Element}function w(t){return t instanceof b(t).HTMLElement||t instanceof HTMLElement}function Kt(t){return"undefined"!=typeof ShadowRoot&&(t instanceof b(t).ShadowRoot||t instanceof ShadowRoot)}var Yt={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var o=t.state;Object.keys(o.elements).forEach(function(t){var e=o.styles[t]||{},i=o.attributes[t]||{},n=o.elements[t];w(n)&&g(n)&&(Object.assign(n.style,e),Object.keys(i).forEach(function(t){var e=i[t];!1===e?n.removeAttribute(t):n.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var n=t.state,o={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,o.popper),n.styles=o,n.elements.arrow&&Object.assign(n.elements.arrow.style,o.arrow),function(){Object.keys(n.elements).forEach(function(t){var e=n.elements[t],i=n.attributes[t]||{},t=Object.keys((n.styles.hasOwnProperty(t)?n.styles:o)[t]).reduce(function(t,e){return t[e]="",t},{});w(e)&&g(e)&&(Object.assign(e.style,t),Object.keys(i).forEach(function(t){e.removeAttribute(t)}))})}},requires:["computeStyles"]};function O(t){return t.split("-")[0]}var C=Math.max,Jt=Math.min,x=Math.round;function Qt(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Xt(){return!/^((?!chrome|android).)*safari/i.test(Qt())}function T(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),o=1,s=1,e=(e&&w(t)&&(o=0<t.offsetWidth&&x(n.width)/t.offsetWidth||1,s=0<t.offsetHeight&&x(n.height)/t.offsetHeight||1),(v(t)?b(t):window).visualViewport),t=!Xt()&&i,i=(n.left+(t&&e?e.offsetLeft:0))/o,t=(n.top+(t&&e?e.offsetTop:0))/s,e=n.width/o,o=n.height/s;return{width:e,height:o,top:t,right:i+e,bottom:t+o,left:i,x:i,y:t}}function $t(t){var e=T(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function te(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&Kt(i)){var n=e;do{if(n&&t.isSameNode(n))return!0}while(n=n.parentNode||n.host)}return!1}function P(t){return b(t).getComputedStyle(t)}function L(t){return((v(t)?t.ownerDocument:t.document)||window.document).documentElement}function ee(t){return"html"===g(t)?t:t.assignedSlot||t.parentNode||(Kt(t)?t.host:null)||L(t)}function ie(t){return w(t)&&"fixed"!==P(t).position?t.offsetParent:null}function ne(t){for(var e,i=b(t),n=ie(t);n&&(e=n,0<=["table","td","th"].indexOf(g(e)))&&"static"===P(n).position;)n=ie(n);return(!n||"html"!==g(n)&&("body"!==g(n)||"static"!==P(n).position))&&(n||(t=>{var e=/firefox/i.test(Qt());if(!/Trident/i.test(Qt())||!w(t)||"fixed"!==P(t).position){var i=ee(t);for(Kt(i)&&(i=i.host);w(i)&&["html","body"].indexOf(g(i))<0;){var n=P(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}}return null})(t))||i}function oe(t){return 0<=["top","bottom"].indexOf(t)?"x":"y"}function se(t,e,i){return C(t,Jt(e,i))}function ae(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function re(i,t){return t.reduce(function(t,e){return t[e]=i,t},{})}var le={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i,n,o,s=t.state,a=t.name,t=t.options,r=s.elements.arrow,l=s.modifiersData.popperOffsets,h=O(s.placement),c=oe(h),h=0<=[S,k].indexOf(h)?"height":"width";r&&l&&(t=ae("number"!=typeof(t="function"==typeof(t=t.padding)?t(Object.assign({},s.rects,{placement:s.placement})):t)?t:re(t,M)),e=$t(r),o="y"===c?E:S,n="y"===c?A:k,i=s.rects.reference[h]+s.rects.reference[c]-l[c]-s.rects.popper[h],l=l[c]-s.rects.reference[c],r=(r=ne(r))?"y"===c?r.clientHeight||0:r.clientWidth||0:0,o=t[o],t=r-e[h]-t[n],o=se(o,n=r/2-e[h]/2+(i/2-l/2),t),s.modifiersData[a]=((r={})[c]=o,r.centerOffset=o-n,r))},effect:function(t){var e=t.state,t=t.options.element,t=void 0===t?"[data-popper-arrow]":t;null!=t&&("string"!=typeof t||(t=e.elements.popper.querySelector(t)))&&te(e.elements.popper,t)&&(e.elements.arrow=t)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function I(t){return t.split("-")[1]}var he={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ce(t){var e=t.popper,i=t.popperRect,n=t.placement,o=t.variation,s=t.offsets,a=t.position,r=t.gpuAcceleration,l=t.adaptive,h=t.roundOffsets,t=t.isFixed,c=s.x,c=void 0===c?0:c,u=s.y,u=void 0===u?0:u,d="function"==typeof h?h({x:c,y:u}):{x:c,y:u},c=d.x,u=d.y,d=s.hasOwnProperty("x"),s=s.hasOwnProperty("y"),p=S,m=E,f=window;l&&(g="clientHeight",_="clientWidth",(v=ne(e))===b(e)&&"static"!==P(v=L(e)).position&&"absolute"===a&&(g="scrollHeight",_="scrollWidth"),n!==E&&(n!==S&&n!==k||o!==y)||(m=A,u=(u-((t&&v===f&&f.visualViewport?f.visualViewport.height:v[g])-i.height))*(r?1:-1)),n!==S&&(n!==E&&n!==A||o!==y)||(p=k,c=(c-((t&&v===f&&f.visualViewport?f.visualViewport.width:v[_])-i.width))*(r?1:-1)));var _,g=Object.assign({position:a},l&&he),v=!0===h?(n={x:c,y:u},o=b(e),t=n.y,o=o.devicePixelRatio||1,{x:x(n.x*o)/o||0,y:x(t*o)/o||0}):{x:c,y:u};return c=v.x,u=v.y,r?Object.assign({},g,((_={})[m]=s?"0":"",_[p]=d?"0":"",_.transform=(f.devicePixelRatio||1)<=1?"translate("+c+"px, "+u+"px)":"translate3d("+c+"px, "+u+"px, 0)",_)):Object.assign({},g,((i={})[m]=s?u+"px":"",i[p]=d?c+"px":"",i.transform="",i))}var ue={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,t=t.options,i=t.gpuAcceleration,i=void 0===i||i,n=t.adaptive,n=void 0===n||n,t=t.roundOffsets,t=void 0===t||t,i={placement:O(e.placement),variation:I(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,ce(Object.assign({},i,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:n,roundOffsets:t})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,ce(Object.assign({},i,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:t})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},de={passive:!0},pe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,t=t.options,n=t.scroll,o=void 0===n||n,n=t.resize,s=void 0===n||n,a=b(e.elements.popper),r=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&r.forEach(function(t){t.addEventListener("scroll",i.update,de)}),s&&a.addEventListener("resize",i.update,de),function(){o&&r.forEach(function(t){t.removeEventListener("scroll",i.update,de)}),s&&a.removeEventListener("resize",i.update,de)}},data:{}},me={left:"right",right:"left",bottom:"top",top:"bottom"};function fe(t){return t.replace(/left|right|bottom|top/g,function(t){return me[t]})}var _e={start:"end",end:"start"};function ge(t){return t.replace(/start|end/g,function(t){return _e[t]})}function ve(t){t=b(t);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ye(t){return T(L(t)).left+ve(t).scrollLeft}function be(t){var t=P(t),e=t.overflow;return/auto|scroll|overlay|hidden/.test(e+t.overflowY+t.overflowX)}function we(t,e){void 0===e&&(e=[]);var i=function t(e){return 0<=["html","body","#document"].indexOf(g(e))?e.ownerDocument.body:w(e)&&be(e)?e:t(ee(e))}(t),t=i===(null==(t=t.ownerDocument)?void 0:t.body),n=b(i),n=t?[n].concat(n.visualViewport||[],be(i)?i:[]):i,i=e.concat(n);return t?i:i.concat(we(ee(n)))}function xe(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Te(t,e,i){return e===Nt?xe((o=i,a=b(n=t),r=L(n),a=a.visualViewport,l=r.clientWidth,r=r.clientHeight,c=h=0,a&&(l=a.width,r=a.height,(s=Xt())||!s&&"fixed"===o)&&(h=a.offsetLeft,c=a.offsetTop),{width:l,height:r,x:h+ye(n),y:c})):v(e)?((o=T(s=e,!1,"fixed"===i)).top=o.top+s.clientTop,o.left=o.left+s.clientLeft,o.bottom=o.top+s.clientHeight,o.right=o.left+s.clientWidth,o.width=s.clientWidth,o.height=s.clientHeight,o.x=o.left,o.y=o.top,o):xe((a=L(t),l=L(a),r=ve(a),h=null==(h=a.ownerDocument)?void 0:h.body,n=C(l.scrollWidth,l.clientWidth,h?h.scrollWidth:0,h?h.clientWidth:0),c=C(l.scrollHeight,l.clientHeight,h?h.scrollHeight:0,h?h.clientHeight:0),a=-r.scrollLeft+ye(a),r=-r.scrollTop,"rtl"===P(h||l).direction&&(a+=C(l.clientWidth,h?h.clientWidth:0)-n),{width:n,height:c,x:a,y:r}));var n,o,s,a,r,l,h,c}function Pe(t){var e,i=t.reference,n=t.element,t=t.placement,o=t?O(t):null,t=t?I(t):null,s=i.x+i.width/2-n.width/2,a=i.y+i.height/2-n.height/2;switch(o){case E:e={x:s,y:i.y-n.height};break;case A:e={x:s,y:i.y+i.height};break;case k:e={x:i.x+i.width,y:a};break;case S:e={x:i.x-n.width,y:a};break;default:e={x:i.x,y:i.y}}var r=o?oe(o):null;if(null!=r){var l="y"===r?"height":"width";switch(t){case z:e[r]=e[r]-(i[l]/2-n[l]/2);break;case y:e[r]=e[r]+(i[l]/2-n[l]/2)}}return e}function Le(t,e){var i,n,o,s,a,r,e=e=void 0===e?{}:e,l=e.placement,l=void 0===l?t.placement:l,h=e.strategy,h=void 0===h?t.strategy:h,c=e.boundary,c=void 0===c?Dt:c,u=e.rootBoundary,u=void 0===u?Nt:u,d=e.elementContext,d=void 0===d?_:d,p=e.altBoundary,p=void 0!==p&&p,e=e.padding,e=void 0===e?0:e,e=ae("number"!=typeof e?e:re(e,M)),m=t.rects.popper,p=t.elements[p?d===_?Zt:_:d],h=(i=v(p)?p:p.contextElement||L(t.elements.popper),p=u,n=h,s="clippingParents"===(u=c)?(a=we(ee(s=i)),v(o=0<=["absolute","fixed"].indexOf(P(s).position)&&w(s)?ne(s):s)?a.filter(function(t){return v(t)&&te(t,o)&&"body"!==g(t)}):[]):[].concat(u),a=[].concat(s,[p]),u=a[0],(p=a.reduce(function(t,e){e=Te(i,e,n);return t.top=C(e.top,t.top),t.right=Jt(e.right,t.right),t.bottom=Jt(e.bottom,t.bottom),t.left=C(e.left,t.left),t},Te(i,u,n))).width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p),c=T(t.elements.reference),u=Pe({reference:c,element:m,strategy:"absolute",placement:l}),p=xe(Object.assign({},m,u)),m=d===_?p:c,f={top:h.top-m.top+e.top,bottom:m.bottom-h.bottom+e.bottom,left:h.left-m.left+e.left,right:m.right-h.right+e.right},u=t.modifiersData.offset;return d===_&&u&&(r=u[l],Object.keys(f).forEach(function(t){var e=0<=[k,A].indexOf(t)?1:-1,i=0<=[E,A].indexOf(t)?"y":"x";f[t]+=r[i]*e})),f}var Ce={name:"flip",enabled:!0,phase:"main",fn:function(t){var u=t.state,e=t.options,t=t.name;if(!u.modifiersData[t]._skip){for(var i=e.mainAxis,n=void 0===i||i,i=e.altAxis,o=void 0===i||i,i=e.fallbackPlacements,d=e.padding,p=e.boundary,m=e.rootBoundary,s=e.altBoundary,a=e.flipVariations,f=void 0===a||a,_=e.allowedAutoPlacements,a=u.options.placement,e=O(a),i=i||(e!==a&&f?O(i=a)===Bt?[]:(e=fe(i),[ge(i),e,ge(e)]):[fe(a)]),r=[a].concat(i).reduce(function(t,e){return t.concat(O(e)===Bt?(i=u,n=(t=t=void 0===(t={placement:e,boundary:p,rootBoundary:m,padding:d,flipVariations:f,allowedAutoPlacements:_})?{}:t).placement,o=t.boundary,s=t.rootBoundary,a=t.padding,r=t.flipVariations,l=void 0===(t=t.allowedAutoPlacements)?Rt:t,h=I(n),t=h?r?qt:qt.filter(function(t){return I(t)===h}):M,c=(n=0===(n=t.filter(function(t){return 0<=l.indexOf(t)})).length?t:n).reduce(function(t,e){return t[e]=Le(i,{placement:e,boundary:o,rootBoundary:s,padding:a})[O(e)],t},{}),Object.keys(c).sort(function(t,e){return c[t]-c[e]})):e);var i,n,o,s,a,r,l,h,c},[]),l=u.rects.reference,h=u.rects.popper,c=new Map,g=!0,v=r[0],y=0;y<r.length;y++){var b=r[y],w=O(b),x=I(b)===z,T=0<=[E,A].indexOf(w),P=T?"width":"height",L=Le(u,{placement:b,boundary:p,rootBoundary:m,altBoundary:s,padding:d}),T=T?x?k:S:x?A:E,x=(l[P]>h[P]&&(T=fe(T)),fe(T)),P=[];if(n&&P.push(L[w]<=0),o&&P.push(L[T]<=0,L[x]<=0),P.every(function(t){return t})){v=b,g=!1;break}c.set(b,P)}if(g)for(var C=f?3:1;0<C&&"break"!==(e=>{var t=r.find(function(t){t=c.get(t);if(t)return t.slice(0,e).every(function(t){return t})});if(t)return v=t,"break"})(C);C--);u.placement!==v&&(u.modifiersData[t]._skip=!0,u.placement=v,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ee(t,e,i){return{top:t.top-e.height-(i=void 0===i?{x:0,y:0}:i).y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function Ae(e){return[E,k,A,S].some(function(t){return 0<=e[t]})}var ke={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,t=t.name,i=e.rects.reference,n=e.rects.popper,o=e.modifiersData.preventOverflow,s=Le(e,{elementContext:"reference"}),a=Le(e,{altBoundary:!0}),s=Ee(s,i),i=Ee(a,n,o),a=Ae(s),n=Ae(i);e.modifiersData[t]={referenceClippingOffsets:s,popperEscapeOffsets:i,isReferenceHidden:a,hasPopperEscaped:n},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":a,"data-popper-escaped":n})}},Se={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var a=t.state,e=t.name,t=t.options.offset,r=void 0===t?[0,0]:t,t=Rt.reduce(function(t,e){return t[e]=(e=e,i=a.rects,n=r,o=O(e),s=0<=[S,E].indexOf(o)?-1:1,i="function"==typeof n?n(Object.assign({},i,{placement:e})):n,e=i[0]||0,n=(i[1]||0)*s,0<=[S,k].indexOf(o)?{x:n,y:e}:{x:e,y:n}),t;var i,n,o,s},{}),i=t[a.placement],n=i.x,i=i.y;null!=a.modifiersData.popperOffsets&&(a.modifiersData.popperOffsets.x+=n,a.modifiersData.popperOffsets.y+=i),a.modifiersData[e]=t}},Me={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state;e.modifiersData[t.name]=Pe({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},ze={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e,i,n,o,s,a,r,l,h,c=t.state,u=t.options,t=t.name,d=u.mainAxis,d=void 0===d||d,p=u.altAxis,p=void 0!==p&&p,m=u.tether,m=void 0===m||m,f=u.tetherOffset,f=void 0===f?0:f,u=Le(c,{boundary:u.boundary,rootBoundary:u.rootBoundary,padding:u.padding,altBoundary:u.altBoundary}),_=O(c.placement),g=I(c.placement),v=!g,y=oe(_),b="x"===y?"y":"x",w=c.modifiersData.popperOffsets,x=c.rects.reference,T=c.rects.popper,f="function"==typeof f?f(Object.assign({},c.rects,{placement:c.placement})):f,f="number"==typeof f?{mainAxis:f,altAxis:f}:Object.assign({mainAxis:0,altAxis:0},f),P=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,L={x:0,y:0};w&&(d&&(d="y"===y?"height":"width",a=(r=w[y])+u[i="y"===y?E:S],l=r-u[h="y"===y?A:k],e=m?-T[d]/2:0,o=(g===z?x:T)[d],g=g===z?-T[d]:-x[d],s=c.elements.arrow,s=m&&s?$t(s):{width:0,height:0},i=(n=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0})[i],n=n[h],h=se(0,x[d],s[d]),s=v?x[d]/2-e-h-i-f.mainAxis:o-h-i-f.mainAxis,o=v?-x[d]/2+e+h+n+f.mainAxis:g+h+n+f.mainAxis,v=(i=c.elements.arrow&&ne(c.elements.arrow))?"y"===y?i.clientTop||0:i.clientLeft||0:0,g=r+o-(e=null!=(d=null==P?void 0:P[y])?d:0),h=se(m?Jt(a,r+s-e-v):a,r,m?C(l,g):l),w[y]=h,L[y]=h-r),p&&(n="y"==b?"height":"width",o=(i=w[b])+u["x"===y?E:S],d=i-u["x"===y?A:k],s=-1!==[E,S].indexOf(_),v=null!=(e=null==P?void 0:P[b])?e:0,a=s?o:i-x[n]-T[n]-v+f.altAxis,g=s?i+x[n]+T[n]-v-f.altAxis:d,r=m&&s?(h=se(a,i,l=g),l<h?l:h):se(m?a:o,i,m?g:d),w[b]=r,L[b]=r-i),c.modifiersData[t]=L)},requiresIfExists:["offset"]};function Oe(t){var i=new Map,n=new Set,o=[];return t.forEach(function(t){i.set(t.name,t)}),t.forEach(function(t){n.has(t.name)||function e(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){n.has(t)||(t=i.get(t))&&e(t)}),o.push(t)}(t)}),o}var Ie={placement:"bottom",modifiers:[],strategy:"absolute"};function Be(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function De(t){var t=t=void 0===t?{}:t,e=t.defaultModifiers,l=void 0===e?[]:e,e=t.defaultOptions,h=void 0===e?Ie:e;return function(n,o,e){void 0===e&&(e=h);var i,s,p={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ie,h),modifiersData:{},elements:{reference:n,popper:o},attributes:{},styles:{}},a=[],m=!1,f={state:p,setOptions:function(t){t="function"==typeof t?t(p.options):t;r(),p.options=Object.assign({},h,p.options,t),p.scrollParents={reference:v(n)?we(n):n.contextElement?we(n.contextElement):[],popper:we(o)};t=[].concat(l,p.options.modifiers),e=t.reduce(function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t},{}),i=Oe(Object.keys(e).map(function(t){return e[t]}));var e,i,t=Gt.reduce(function(t,e){return t.concat(i.filter(function(t){return t.phase===e}))},[]);return p.orderedModifiers=t.filter(function(t){return t.enabled}),p.orderedModifiers.forEach(function(t){var e=t.name,i=t.options,t=t.effect;"function"==typeof t&&(t=t({state:p,name:e,instance:f,options:void 0===i?{}:i}),a.push(t||function(){}))}),f.update()},forceUpdate:function(){if(!m){var t=p.elements,e=t.reference,t=t.popper;if(Be(e,t)){p.rects={reference:(e=e,a=ne(t),void 0===(r="fixed"===p.options.strategy)&&(r=!1),l=w(a),h=w(a)&&(u=(h=a).getBoundingClientRect(),c=x(u.width)/h.offsetWidth||1,u=x(u.height)/h.offsetHeight||1,1!==c||1!==u),c=L(a),u=T(e,h,r),e={scrollLeft:0,scrollTop:0},d={x:0,y:0},!l&&r||("body"===g(a)&&!be(c)||(e=(l=a)!==b(l)&&w(l)?{scrollLeft:l.scrollLeft,scrollTop:l.scrollTop}:ve(l)),w(a)?((d=T(a,!0)).x+=a.clientLeft,d.y+=a.clientTop):c&&(d.x=ye(c))),{x:u.left+e.scrollLeft-d.x,y:u.top+e.scrollTop-d.y,width:u.width,height:u.height}),popper:$t(t)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(t){return p.modifiersData[t.name]=Object.assign({},t.data)});for(var i,n,o,s=0;s<p.orderedModifiers.length;s++)!0!==p.reset?(n=(i=p.orderedModifiers[s]).fn,o=i.options,"function"==typeof n&&(p=n({state:p,options:void 0===o?{}:o,name:i.name,instance:f})||p)):(p.reset=!1,s=-1)}}var a,r,l,h,c,u,d},update:(i=function(){return new Promise(function(t){f.forceUpdate(),t(p)})},function(){return s=s||new Promise(function(t){Promise.resolve().then(function(){s=void 0,t(i())})})}),destroy:function(){r(),m=!0}};return Be(n,o)&&f.setOptions(e).then(function(t){!m&&e.onFirstUpdate&&e.onFirstUpdate(t)}),f;function r(){a.forEach(function(t){return t()}),a=[]}}}var Ne=De(),Ze=De({defaultModifiers:[pe,Me,ue,Yt]}),qe=De({defaultModifiers:[pe,Me,ue,Yt,Se,Ce,ze,le,ke]});let Re=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Ft,afterRead:Wt,afterWrite:Vt,applyStyles:Yt,arrow:le,auto:Bt,basePlacements:M,beforeMain:Ht,beforeRead:jt,beforeWrite:Ut,bottom:A,clippingParents:Dt,computeStyles:ue,createPopper:qe,createPopperBase:Ne,createPopperLite:Ze,detectOverflow:Le,end:y,eventListeners:pe,flip:Ce,hide:ke,left:S,main:"main",modifierPhases:Gt,offset:Se,placements:Rt,popper:_,popperGenerator:De,popperOffsets:Me,preventOverflow:ze,read:"read",reference:Zt,right:k,start:z,top:E,variationPlacements:qt,viewport:Nt,write:"write"},Symbol.toStringTag,{value:"Module"})),je="dropdown",We="ArrowDown",He="click.bs.dropdown.data-api",Fe="keydown.bs.dropdown.data-api",Ue="show",p='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ve=(p,".dropdown-menu"),Ge=l()?"top-end":"top-start",Ke=l()?"top-start":"top-end",Ye=l()?"bottom-end":"bottom-start",Je=l()?"bottom-start":"bottom-end",Qe=l()?"left-start":"right-start",Xe=l()?"right-start":"left-start",$e={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ti={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class f extends e{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=u.next(this._element,Ve)[0]||u.prev(this._element,Ve)[0]||u.findOne(Ve,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return $e}static get DefaultType(){return ti}static get NAME(){return je}toggle(){return this._isShown()?this.hide():this.show()}show(){if(!r(this._element)&&!this._isShown()){let t={relatedTarget:this._element};if(!m.trigger(this._element,"show.bs.dropdown",t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(let t of[].concat(...document.body.children))m.on(t,"mouseover",j);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ue),this._element.classList.add(Ue),m.trigger(this._element,"shown.bs.dropdown",t)}}}hide(){var t;!r(this._element)&&this._isShown()&&(t={relatedTarget:this._element},this._completeHide(t))}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!m.trigger(this._element,"hide.bs.dropdown",t).defaultPrevented){if("ontouchstart"in document.documentElement)for(let t of[].concat(...document.body.children))m.off(t,"mouseover",j);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ue),this._element.classList.remove(Ue),this._element.setAttribute("aria-expanded","false"),c.removeDataAttribute(this._menu,"popper"),m.trigger(this._element,"hidden.bs.dropdown",t)}}_getConfig(t){if("object"!=typeof(t=super._getConfig(t)).reference||a(t.reference)||"function"==typeof t.reference.getBoundingClientRect)return t;throw new TypeError(je.toUpperCase()+': Option "reference" provided type "object" without a required "getBoundingClientRect" method.')}_createPopper(){if(void 0===Re)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:a(this._config.reference)?t=o(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);var e=this._getPopperConfig();this._popper=qe(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Ue)}_getPlacement(){var t,e=this._parent;return e.classList.contains("dropend")?Qe:e.classList.contains("dropstart")?Xe:e.classList.contains("dropup-center")?"top":e.classList.contains("dropdown-center")?"bottom":(t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim(),e.classList.contains("dropup")?t?Ke:Ge:t?Je:Ye)}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){let e=this._config.offset;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){var t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return!this._inNavbar&&"static"!==this._config.display||(c.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...h(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:e}){var i=u.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(t=>s(t));i.length&&V(i,e,t===We,!i.includes(e)).focus()}static jQueryInterface(e){return this.each(function(){var t=f.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2!==e.button&&("keyup"!==e.type||"Tab"===e.key)){let t=u.find('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled).show');for(var i of t){let t=f.getInstance(i);var n;t&&!1!==t._config.autoClose&&(n=(i=e.composedPath()).includes(t._menu),i.includes(t._element)||"inside"===t._config.autoClose&&!n||"outside"===t._config.autoClose&&n||t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName))||(i={relatedTarget:t._element},"click"===e.type&&(i.clickEvent=e),t._completeHide(i)))}}}static dataApiKeydownHandler(t){var e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,n=["ArrowUp",We].includes(t.key);!n&&!i||e&&!i||(t.preventDefault(),e=this.matches(p)?this:u.prev(this,p)[0]||u.next(this,p)[0]||u.findOne(p,t.delegateTarget.parentNode),i=f.getOrCreateInstance(e),n?(t.stopPropagation(),i.show(),i._selectMenuItem(t)):i._isShown()&&(t.stopPropagation(),i.hide(),e.focus()))}}m.on(document,Fe,p,f.dataApiKeydownHandler),m.on(document,Fe,Ve,f.dataApiKeydownHandler),m.on(document,He,f.clearMenus),m.on(document,"keyup.bs.dropdown.data-api",f.clearMenus),m.on(document,He,p,function(t){t.preventDefault(),f.getOrCreateInstance(this).toggle()}),t(f);let ei="mousedown.bs.backdrop",ii={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ni={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class oi extends ct{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return ii}static get DefaultType(){return ni}static get NAME(){return"backdrop"}show(t){var e;this._config.isVisible?(this._append(),e=this._getElement(),this._config.isAnimated&&W(e),e.classList.add("show"),this._emulateAnimation(()=>{h(t)})):h(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),h(t)})):h(t)}dispose(){this._isAppended&&(m.off(this._element,ei),this._element.remove(),this._isAppended=!1)}_getElement(){var t;return this._element||((t=document.createElement("div")).className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t),this._element}_configAfterMerge(t){return t.rootElement=o(t.rootElement),t}_append(){var t;this._isAppended||(t=this._getElement(),this._config.rootElement.append(t),m.on(t,ei,()=>{h(this._config.clickCallback)}),this._isAppended=!0)}_emulateAnimation(t){U(t,this._getElement(),this._config.isAnimated)}}let si=".bs.focustrap",ai="backward",ri={autofocus:!0,trapElement:null},li={autofocus:"boolean",trapElement:"element"};class hi extends ct{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ri}static get DefaultType(){return li}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),m.off(document,si),m.on(document,"focusin.bs.focustrap",t=>this._handleFocusin(t)),m.on(document,"keydown.tab.bs.focustrap",t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,m.off(document,si))}_handleFocusin(t){var e=this._config.trapElement;t.target===document||t.target===e||e.contains(t.target)||(0===(t=u.focusableChildren(e)).length?e:this._lastTabNavDirection===ai?t[t.length-1]:t[0]).focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?ai:"forward")}}let ci=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ui=".sticky-top",di="padding-right",pi="margin-right";class mi{constructor(){this._element=document.body}getWidth(){var t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,di,t=>t+e),this._setElementAttributes(ci,di,t=>t+e),this._setElementAttributes(ui,pi,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,di),this._resetElementAttributes(ci,di),this._resetElementAttributes(ui,pi)}isOverflowing(){return 0<this.getWidth()}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,i,n){let o=this.getWidth();this._applyManipulationCallback(t,t=>{var e;t!==this._element&&window.innerWidth>t.clientWidth+o||(this._saveInitialAttribute(t,i),e=window.getComputedStyle(t).getPropertyValue(i),t.style.setProperty(i,n(Number.parseFloat(e))+"px"))})}_saveInitialAttribute(t,e){var i=t.style.getPropertyValue(e);i&&c.setDataAttribute(t,e,i)}_resetElementAttributes(t,i){this._applyManipulationCallback(t,t=>{var e=c.getDataAttribute(t,i);null!==e?(c.removeDataAttribute(t,i),t.style.setProperty(i,e)):t.style.removeProperty(i)})}_applyManipulationCallback(t,e){if(a(t))e(t);else for(var i of u.find(t,this._element))e(i)}}let fi=".bs.modal",_i="hidden.bs.modal",gi="show.bs.modal",vi="modal-open",yi="modal-static",bi={backdrop:!0,focus:!0,keyboard:!0},wi={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class xi extends e{constructor(t,e){super(t,e),this._dialog=u.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new mi,this._addEventListeners()}static get Default(){return bi}static get DefaultType(){return wi}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||m.trigger(this._element,gi,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(vi),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||m.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){m.off(window,fi),m.off(this._dialog,fi),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new oi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new hi({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;var e=u.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),W(this._element),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,m.trigger(this._element,"shown.bs.modal",{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){m.on(this._element,"keydown.dismiss.bs.modal",t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),m.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),m.on(this._element,"mousedown.dismiss.bs.modal",e=>{m.one(this._element,"click.dismiss.bs.modal",t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(vi),this._resetAdjustments(),this._scrollBar.reset(),m.trigger(this._element,_i)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(!m.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented){let t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._element.style.overflowY;"hidden"===e||this._element.classList.contains(yi)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(yi),this._queueCallback(()=>{this._element.classList.remove(yi),this._queueCallback(()=>{this._element.style.overflowY=e},this._dialog)},this._dialog),this._element.focus())}}_adjustDialog(){let t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=0<e;if(i&&!t){let t=l()?"paddingLeft":"paddingRight";this._element.style[t]=e+"px"}if(!i&&t){let t=l()?"paddingRight":"paddingLeft";this._element.style[t]=e+"px"}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,i){return this.each(function(){var t=xi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](i)}})}}m.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(t){let e=u.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),m.one(e,gi,t=>{t.defaultPrevented||m.one(e,_i,()=>{s(this)&&this.focus()})});t=u.findOne(".modal.show");t&&xi.getInstance(t).hide(),xi.getOrCreateInstance(e).toggle(this)}),dt(xi),t(xi);let Ti="showing",Pi=".offcanvas.show",Li="hidePrevented.bs.offcanvas",Ci="hidden.bs.offcanvas",Ei={backdrop:!0,keyboard:!0,scroll:!1},Ai={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class B extends e{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ei}static get DefaultType(){return Ai}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||m.trigger(this._element,"show.bs.offcanvas",{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new mi).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ti),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Ti),m.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:t})},this._element,!0))}hide(){!this._isShown||m.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new mi).reset(),m.trigger(this._element,Ci)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){var t=Boolean(this._config.backdrop);return new oi({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():m.trigger(this._element,Li)}:null})}_initializeFocusTrap(){return new hi({trapElement:this._element})}_addEventListeners(){m.on(this._element,"keydown.dismiss.bs.offcanvas",t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():m.trigger(this._element,Li))})}static jQueryInterface(e){return this.each(function(){var t=B.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}m.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(t){var e=u.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),r(this)||(m.one(e,Ci,()=>{s(this)&&this.focus()}),(t=u.findOne(Pi))&&t!==e&&B.getInstance(t).hide(),B.getOrCreateInstance(e).toggle(this))}),m.on(window,"load.bs.offcanvas.data-api",()=>{for(var t of u.find(Pi))B.getOrCreateInstance(t).show()}),m.on(window,"resize.bs.offcanvas",()=>{for(var t of u.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&B.getOrCreateInstance(t).hide()}),dt(B),t(B);let ki={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Si=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Mi=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,zi={allowList:ki,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Oi={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ii={entry:"(string|element|function|null)",selector:"(string|element)"};class Bi extends ct{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return zi}static get DefaultType(){return Oi}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return 0<this.getContent().length}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){var i=document.createElement("div");i.innerHTML=this._maybeSanitize(this._config.template);for(let[t,e]of Object.entries(this._config.content))this._setContent(i,e,t);let t=i.children[0],e=this._resolvePossibleFunction(this._config.extraClass);return e&&t.classList.add(...e.split(" ")),t}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(var[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},Ii)}_setContent(t,e,i){i=u.findOne(i,t);i&&((e=this._resolvePossibleFunction(e))?a(e)?this._putElementInTemplate(o(e),i):this._config.html?i.innerHTML=this._maybeSanitize(e):i.textContent=e:i.remove())}_maybeSanitize(i){if(this._config.sanitize){var n=i,o=this._config.allowList,s=this._config.sanitizeFn;if(!n.length)return n;if(s&&"function"==typeof s)return s(n);let t=(new window.DOMParser).parseFromString(n,"text/html"),e=[].concat(...t.body.querySelectorAll("*"));for(let n of e){let t=n.nodeName.toLowerCase();if(Object.keys(o).includes(t)){let e=[].concat(...n.attributes),i=[].concat(o["*"]||[],o[t]||[]);for(let t of e)((t,e)=>{let i=t.nodeName.toLowerCase();return e.includes(i)?!Si.has(i)||Boolean(Mi.test(t.nodeValue)):e.filter(t=>t instanceof RegExp).some(t=>t.test(i))})(t,i)||n.removeAttribute(t.nodeName)}else n.remove()}return t.body.innerHTML}return i}_resolvePossibleFunction(t){return h(t,[this])}_putElementInTemplate(t,e){this._config.html?(e.innerHTML="",e.append(t)):e.textContent=t.textContent}}let Di=new Set(["sanitize","allowList","sanitizeFn"]),Ni="fade",Zi="show",qi="hide.bs.modal",Ri="hover",ji={AUTO:"auto",TOP:"top",RIGHT:l()?"left":"right",BOTTOM:"bottom",LEFT:l()?"right":"left"},Wi={allowList:ki,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Hi={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Fi extends e{constructor(t,e){if(void 0===Re)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Wi}static get DefaultType(){return Hi}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),m.off(this._element.closest(".modal"),qi,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this._isWithContent()&&this._isEnabled){let t=m.trigger(this._element,this.constructor.eventName("show")),e=(R(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(!t.defaultPrevented&&e){this._disposePopper();var i=this._getTipElement(),n=(this._element.setAttribute("aria-describedby",i.getAttribute("id")),this._config).container;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),m.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(Zi),"ontouchstart"in document.documentElement)for(let t of[].concat(...document.body.children))m.on(t,"mouseover",j);this._queueCallback(()=>{m.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}}}hide(){if(this._isShown()&&!m.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Zi),"ontouchstart"in document.documentElement)for(var t of[].concat(...document.body.children))m.off(t,"mouseover",j);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),m.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){t=this._getTemplateFactory(t).toHtml();if(!t)return null;t.classList.remove(Ni,Zi),t.classList.add(`bs-${this.constructor.NAME}-auto`);var e=(t=>{for(;t+=Math.floor(1e6*Math.random()),document.getElementById(t););return t})(this.constructor.NAME).toString();return t.setAttribute("id",e),this._isAnimated()&&t.classList.add(Ni),t}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Bi({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ni)}_isShown(){return this.tip&&this.tip.classList.contains(Zi)}_createPopper(t){var e=h(this._config.placement,[this,t,this._element]),e=ji[e.toUpperCase()];return qe(this._element,t,this._getPopperConfig(e))}_getOffset(){let e=this._config.offset;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(t){return h(t,[this._element])}_getPopperConfig(t){t={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...t,...h(this._config.popperConfig,[t])}}_setListeners(){let t=this._config.trigger.split(" ");for(var i of t)if("click"===i)m.on(this._element,this.constructor.eventName("click"),this._config.selector,t=>{this._initializeOnDelegatedTarget(t).toggle()});else if("manual"!==i){let t=i===Ri?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),e=i===Ri?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");m.on(this._element,t,this._config.selector,t=>{var e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?"focus":Ri]=!0,e._enter()}),m.on(this._element,e,this._config.selector,t=>{var e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?"focus":Ri]=e._element.contains(t.relatedTarget),e._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},m.on(this._element.closest(".modal"),qi,this._hideModalHandler)}_fixTitle(){var t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){var e=c.getDataAttributes(this._element);for(let t of Object.keys(e))Di.has(t)&&delete e[t];return t={...e,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:o(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){var t,e,i={};for([t,e]of Object.entries(this._config))this.constructor.Default[t]!==e&&(i[t]=e);return i.selector=!1,i.trigger="manual",i}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){var t=Fi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}t(Fi);let Ui={...Fi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Vi={...Fi.DefaultType,content:"(null|string|element|function)"};class Gi extends Fi{static get Default(){return Ui}static get DefaultType(){return Vi}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){var t=Gi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}t(Gi);let Ki="click.bs.scrollspy",Yi="active",Ji={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Qi={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Xi extends e{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Ji}static get DefaultType(){return Qi}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(var t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=o(t.target)||document.body,t.rootMargin=t.offset?t.offset+"px 0px -30%":t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(t=>Number.parseFloat(t))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(m.off(this._config.target,Ki),m.on(this._config.target,Ki,"[href]",t=>{var e=this._observableSections.get(t.target.hash);e&&(t.preventDefault(),t=this._rootElement||window,e=e.offsetTop-this._element.offsetTop,t.scrollTo?t.scrollTo({top:e,behavior:"smooth"}):t.scrollTop=e)}))}_getNewObserver(){var t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),t)}_observerCallback(t){let e=t=>this._targetLinks.get("#"+t.target.id),i=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},n=(this._rootElement||document.documentElement).scrollTop,o=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(var s of t)if(s.isIntersecting){let t=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&t){if(i(s),!n)return}else o||t||i(s)}else this._activeTarget=null,this._clearActiveClass(e(s))}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let t=u.find("[href]",this._config.target);for(var e of t)if(e.hash&&!r(e)){let t=u.findOne(decodeURI(e.hash),this._element);s(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),(this._activeTarget=t).classList.add(Yi),this._activateParents(t),m.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))u.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(Yi);else for(var e of u.parents(t,".nav, .list-group"))for(let t of u.prev(e,".nav-link, .nav-item > .nav-link, .list-group-item"))t.classList.add(Yi)}_clearActiveClass(t){t.classList.remove(Yi);var e=u.find("[href].active",t);for(let t of e)t.classList.remove(Yi)}static jQueryInterface(e){return this.each(function(){var t=Xi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}m.on(window,"load.bs.scrollspy.data-api",()=>{for(var t of u.find('[data-bs-spy="scroll"]'))Xi.getOrCreateInstance(t)}),t(Xi);let $i="ArrowRight",tn="ArrowDown",en="active",nn="show",on='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',sn='.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), '+on;class an extends e{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),m.on(this._element,"keydown.bs.tab",t=>this._keydown(t)))}static get NAME(){return"tab"}show(){var t,e,i=this._element;this._elemIsActive(i)||(e=(t=this._getActiveElem())?m.trigger(t,"hide.bs.tab",{relatedTarget:i}):null,m.trigger(i,"show.bs.tab",{relatedTarget:t}).defaultPrevented)||e&&e.defaultPrevented||(this._deactivate(t,i),this._activate(i,t))}_activate(t,e){t&&(t.classList.add(en),this._activate(u.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),m.trigger(t,"shown.bs.tab",{relatedTarget:e})):t.classList.add(nn)},t,t.classList.contains("fade")))}_deactivate(t,e){t&&(t.classList.remove(en),t.blur(),this._deactivate(u.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),m.trigger(t,"hidden.bs.tab",{relatedTarget:e})):t.classList.remove(nn)},t,t.classList.contains("fade")))}_keydown(t){var e;["ArrowLeft",$i,"ArrowUp",tn].includes(t.key)&&(t.stopPropagation(),t.preventDefault(),e=[$i,tn].includes(t.key),t=V(this._getChildren().filter(t=>!r(t)),t.target,e,!0))&&(t.focus({preventScroll:!0}),an.getOrCreateInstance(t).show())}_getChildren(){return u.find(sn,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(let t of e)this._setInitialAttributesOnChild(t)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);var e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){var e=u.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id)&&this._setAttributeIfNotExists(e,"aria-labelledby",""+t.id)}_toggleDropDown(t,i){let n=this._getOuterElement(t);n.classList.contains("dropdown")&&((t=(t,e)=>{t=u.findOne(t,n);t&&t.classList.toggle(e,i)})(".dropdown-toggle",en),t(".dropdown-menu",nn),n.setAttribute("aria-expanded",i))}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(en)}_getInnerElement(t){return t.matches(sn)?t:u.findOne(sn,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(e){return this.each(function(){var t=an.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}m.on(document,"click.bs.tab",on,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),r(this)||an.getOrCreateInstance(this).show()}),m.on(window,"load.bs.tab",()=>{for(var t of u.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))an.getOrCreateInstance(t)}),t(an);let rn="show",ln="showing",hn={animation:"boolean",autohide:"boolean",delay:"number"},cn={animation:!0,autohide:!0,delay:5e3};class un extends e{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return cn}static get DefaultType(){return hn}static get NAME(){return"toast"}show(){m.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),W(this._element),this._element.classList.add(rn,ln),this._queueCallback(()=>{this._element.classList.remove(ln),m.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){!this.isShown()||m.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(ln),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(ln,rn),m.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(rn),super.dispose()}isShown(){return this._element.classList.contains(rn)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}e?this._clearTimeout():this._element===(t=t.relatedTarget)||this._element.contains(t)||this._maybeScheduleHide()}_setListeners(){m.on(this._element,"mouseover.bs.toast",t=>this._onInteraction(t,!0)),m.on(this._element,"mouseout.bs.toast",t=>this._onInteraction(t,!1)),m.on(this._element,"focusin.bs.toast",t=>this._onInteraction(t,!0)),m.on(this._element,"focusout.bs.toast",t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){var t=un.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}})}}return dt(un),t(un),{Alert:pt,Button:ft,Carousel:Et,Collapse:It,Dropdown:f,Modal:xi,Offcanvas:B,Popover:Gi,ScrollSpy:Xi,Tab:an,Toast:un,Tooltip:Fi}}),((t,e)=>{"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).leaflet={})})(this,function(t){function h(t){for(var e,i,n=1,o=arguments.length;n<o;n++)for(e in i=arguments[n])t[e]=i[e];return t}var N=Object.create||function(t){return Z.prototype=t,new Z};function Z(){}function r(t,e){var i,n=Array.prototype.slice;return t.bind?t.bind.apply(t,n.call(arguments,1)):(i=n.call(arguments,2),function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)})}var q=0;function l(t){return"_leaflet_id"in t||(t._leaflet_id=++q),t._leaflet_id}function R(t,e,i){function n(){o=!1,s&&(a.apply(i,s),s=!1)}var o,s,a=function(){o?s=arguments:(t.apply(i,arguments),setTimeout(n,e),o=!0)};return a}function j(t,e,i){var n=e[1],o=n-(e=e[0]);return t===n&&i?t:((t-e)%o+o)%o+e}function c(){return!1}function i(t,e){return!1===e?t:(e=Math.pow(10,void 0===e?6:e),Math.round(t*e)/e)}function W(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return W(t).split(/\s+/)}function u(t,e){for(var i in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?N(t.options):{}),e)t.options[i]=e[i];return t.options}function F(t,e,i){var n,o=[];for(n in t)o.push(encodeURIComponent(i?n.toUpperCase():n)+"="+encodeURIComponent(t[n]));return(e&&-1!==e.indexOf("?")?"&":"?")+o.join("&")}var U=/\{ *([\w_ -]+) *\}/g;function V(t,i){return t.replace(U,function(t,e){if(void 0===(e=i[e]))throw new Error("No value provided for variable "+t);return"function"==typeof e?e(i):e})}var d=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function G(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var K="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Y(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var J=0;function Q(t){var e=+new Date,i=Math.max(0,16-(e-J));return J=e+i,window.setTimeout(t,i)}var X=window.requestAnimationFrame||Y("RequestAnimationFrame")||Q,$=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function y(t,e,i){if(!i||X!==Q)return X.call(window,r(t,e));t.call(e)}function a(t){t&&$.call(window,t)}var tt={__proto__:null,extend:h,create:N,bind:r,get lastId(){return q},stamp:l,throttle:R,wrapNum:j,falseFn:c,formatNum:i,trim:W,splitWords:H,setOptions:u,getParamString:F,template:V,isArray:d,indexOf:G,emptyImageUrl:K,requestFn:X,cancelFn:$,requestAnimFrame:y,cancelAnimFrame:a};function et(){}et.extend=function(t){function e(){u(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var i,n=e.__super__=this.prototype,o=N(n);for(i in(o.constructor=e).prototype=o,this)Object.prototype.hasOwnProperty.call(this,i)&&"prototype"!==i&&"__super__"!==i&&(e[i]=this[i]);if(t.statics&&h(e,t.statics),t.includes){var s=t.includes;if("undefined"!=typeof L&&L&&L.Mixin)for(var s=d(s)?s:[s],a=0;a<s.length;a++)s[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack);h.apply(null,[o].concat(t.includes))}return h(o,t),delete o.statics,delete o.includes,o.options&&(o.options=n.options?N(n.options):{},h(o.options,t.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},et.include=function(t){var e=this.prototype.options;return h(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},et.mergeOptions=function(t){return h(this.prototype.options,t),this},et.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var e={on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else for(var o=0,s=(t=H(t)).length;o<s;o++)this._on(t[o],e,i);return this},off:function(t,e,i){if(arguments.length)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else{t=H(t);for(var o=1===arguments.length,s=0,a=t.length;s<a;s++)o?this._off(t[s]):this._off(t[s],e,i)}else delete this._events;return this},_on:function(t,e,i,n){"function"!=typeof e?console.warn("wrong listener type: "+typeof e):!1===this._listens(t,e,i)&&(e={fn:e,ctx:i=i===this?void 0:i},n&&(e.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e))},_off:function(t,e,i){var n,o,s;if(this._events&&(n=this._events[t]))if(1===arguments.length){if(this._firingCount)for(o=0,s=n.length;o<s;o++)n[o].fn=c;delete this._events[t]}else"function"!=typeof e?console.warn("wrong listener type: "+typeof e):!1!==(e=this._listens(t,e,i))&&(i=n[e],this._firingCount&&(i.fn=c,this._events[t]=n=n.slice()),n.splice(e,1))},fire:function(t,e,i){if(this.listens(t,i)){var n=h({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var r=o[s],l=r.fn;r.once&&this.off(t,l,r.ctx),l.call(r.ctx||this,n)}this._firingCount--}}i&&this._propagateEvent(n)}return this},listens:function(t,e,i,n){"string"!=typeof t&&console.warn('"string" type argument expected');var o=e,s=("function"!=typeof e&&(n=!!e,i=o=void 0),this._events&&this._events[t]);if(s&&s.length&&!1!==this._listens(t,o,i))return!0;if(n)for(var a in this._eventParents)if(this._eventParents[a].listens(t,e,i,n))return!0;return!1},_listens:function(t,e,i){if(this._events){var n=this._events[t]||[];if(!e)return!!n.length;i===this&&(i=void 0);for(var o=0,s=n.length;o<s;o++)if(n[o].fn===e&&n[o].ctx===i)return o}return!1},once:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e,!0);else for(var o=0,s=(t=H(t)).length;o<s;o++)this._on(t[o],e,i,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[l(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[l(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,h({layer:t.target,propagatedFrom:t.target},t),!0)}},it=(e.addEventListener=e.on,e.removeEventListener=e.clearAllEventListeners=e.off,e.addOneTimeEventListener=e.once,e.fireEvent=e.fire,e.hasEventListeners=e.listens,et.extend(e));function m(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var nt=Math.trunc||function(t){return 0<t?Math.floor(t):Math.ceil(t)};function f(t,e,i){return t instanceof m?t:d(t)?new m(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new m(t.x,t.y):new m(t,e,i)}function _(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function p(t,e){return!t||t instanceof _?t:new _(t,e)}function s(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function g(t,e){return t instanceof s?t:new s(t,e)}function v(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function b(t,e,i){return t instanceof v?t:d(t)&&"object"!=typeof t[0]?3===t.length?new v(t[0],t[1],t[2]):2===t.length?new v(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new v(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new v(t,e,i)}m.prototype={clone:function(){return new m(this.x,this.y)},add:function(t){return this.clone()._add(f(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(f(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new m(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new m(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=nt(this.x),this.y=nt(this.y),this},distanceTo:function(t){var e=(t=f(t)).x-this.x,t=t.y-this.y;return Math.sqrt(e*e+t*t)},equals:function(t){return(t=f(t)).x===this.x&&t.y===this.y},contains:function(t){return t=f(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+i(this.x)+", "+i(this.y)+")"}},_.prototype={extend:function(t){var e,i;if(t){if(t instanceof m||"number"==typeof t[0]||"x"in t)e=i=f(t);else if(e=(t=p(t)).min,i=t.max,!e||!i)return this;this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)):(this.min=e.clone(),this.max=i.clone())}return this},getCenter:function(t){return f((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return f(this.min.x,this.max.y)},getTopRight:function(){return f(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t=("number"==typeof t[0]||t instanceof m?f:p)(t))instanceof _?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=p(t);var e=this.min,i=this.max,n=t.min,o=(t=t.max).x>=e.x&&n.x<=i.x,t=e.y<=t.y&&n.y<=i.y;return o&&t},overlaps:function(t){t=p(t);var e=this.min,i=this.max,n=t.min,o=(t=t.max).x>e.x&&n.x<i.x,t=e.y<t.y&&n.y<i.y;return o&&t},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,i=this.max,n=Math.abs(e.x-i.x)*t,t=Math.abs(e.y-i.y)*t;return p(f(e.x-n,e.y-t),f(i.x+n,i.y+t))},equals:function(t){return!!t&&(t=p(t),this.min.equals(t.getTopLeft()))&&this.max.equals(t.getBottomRight())}},s.prototype={extend:function(t){var e,i,n=this._southWest,o=this._northEast;if(t instanceof v)i=e=t;else{if(!(t instanceof s))return t?this.extend(b(t)||g(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||o?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),o.lat=Math.max(i.lat,o.lat),o.lng=Math.max(i.lng,o.lng)):(this._southWest=new v(e.lat,e.lng),this._northEast=new v(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,t=Math.abs(e.lng-i.lng)*t;return new s(new v(e.lat-n,e.lng-t),new v(i.lat+n,i.lng+t))},getCenter:function(){return new v((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new v(this.getNorth(),this.getWest())},getSouthEast:function(){return new v(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t=("number"==typeof t[0]||t instanceof v||"lat"in t?b:g)(t);var e,i,n=this._southWest,o=this._northEast;return t instanceof s?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=o.lat&&e.lng>=n.lng&&i.lng<=o.lng},intersects:function(t){t=g(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=(t=t.getNorthEast()).lat>=e.lat&&n.lat<=i.lat,t=t.lng>=e.lng&&n.lng<=i.lng;return o&&t},overlaps:function(t){t=g(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=(t=t.getNorthEast()).lat>e.lat&&n.lat<i.lat,t=t.lng>e.lng&&n.lng<i.lng;return o&&t},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=g(t),this._southWest.equals(t.getSouthWest(),e))&&this._northEast.equals(t.getNorthEast(),e)},isValid:function(){return!(!this._southWest||!this._northEast)}};var ot={latLngToPoint:function(t,e){return t=this.projection.project(t),e=this.scale(e),this.transformation._transform(t,e)},pointToLatLng:function(t,e){return e=this.scale(e),t=this.transformation.untransform(t,e),this.projection.unproject(t)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){var e;return this.infinite?null:(e=this.projection.bounds,t=this.scale(t),new _(this.transformation.transform(e.min,t),this.transformation.transform(e.max,t)))},infinite:!(v.prototype={equals:function(t,e){return!!t&&(t=b(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+i(this.lat,t)+", "+i(this.lng,t)+")"},distanceTo:function(t){return st.distance(this,b(t))},wrap:function(){return st.wrapLatLng(this)},toBounds:function(t){var e=(t=180*t/40075017)/Math.cos(Math.PI/180*this.lat);return g([this.lat-t,this.lng-e],[this.lat+t,this.lng+e])},clone:function(){return new v(this.lat,this.lng,this.alt)}}),wrapLatLng:function(t){var e=this.wrapLng?j(t.lng,this.wrapLng,!0):t.lng;return new v(this.wrapLat?j(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,e=e.lng-i.lng;return 0==n&&0==e?t:(i=t.getSouthWest(),t=t.getNorthEast(),new s(new v(i.lat-n,i.lng-e),new v(t.lat-n,t.lng-e)))}},st=h({},ot,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,s=Math.sin((e.lat-t.lat)*i/2),e=Math.sin((e.lng-t.lng)*i/2),t=s*s+Math.cos(n)*Math.cos(o)*e*e,i=2*Math.atan2(Math.sqrt(t),Math.sqrt(1-t));return this.R*i}}),at={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,i=Math.max(Math.min(i,t.lat),-i),i=Math.sin(i*e);return new m(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new v((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:new _([-(at=6378137*Math.PI),-at],[at,at])};function rt(t,e,i,n){d(t)?(this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3]):(this._a=t,this._b=e,this._c=i,this._d=n)}function lt(t,e,i,n){return new rt(t,e,i,n)}rt.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return t.x=(e=e||1)*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return new m((t.x/(e=e||1)-this._b)/this._a,(t.y/e-this._d)/this._c)}};var ht=h({},st,{code:"EPSG:3857",projection:at,transformation:lt(ht=.5/(Math.PI*at.R),.5,-ht,.5)}),ct=h({},ht,{code:"EPSG:900913"});function ut(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function dt(t,e){for(var i,n,o,s,a="",r=0,l=t.length;r<l;r++){for(i=0,n=(o=t[r]).length;i<n;i++)a+=(i?"L":"M")+(s=o[i]).x+" "+s.y;a+=e?x.svg?"z":"x":""}return a||"M0 0"}var pt=document.documentElement.style,mt=(Ee="ActiveXObject"in window)&&!document.addEventListener,n="msLaunchUri"in navigator&&!("documentMode"in document),ft=w("webkit"),_t=w("android"),gt=w("android 2")||w("android 3"),vt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),vt=_t&&w("Google")&&vt<537&&!("AudioNode"in window),yt=!!window.opera,bt=!n&&w("chrome"),wt=w("gecko")&&!ft&&!yt&&!Ee,xt=!bt&&w("safari"),Tt=w("phantom"),o="OTransition"in pt,Pt=0===navigator.platform.indexOf("Win"),Lt=Ee&&"transition"in pt,Ct="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!gt,pt="MozPerspective"in pt,Et=!window.L_DISABLE_3D&&(Lt||Ct||pt)&&!o&&!Tt,At=(Ki="undefined"!=typeof orientation||w("mobile"))&&ft,kt=Ki&&Ct,St=!window.PointerEvent&&window.MSPointerEvent,Mt=!(!window.PointerEvent&&!St),zt="ontouchstart"in window||!!window.TouchEvent,Ot=!window.L_NO_TOUCH&&(zt||Mt),It=Ki&&yt,Bt=Ki&&wt,Dt=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Nt=(()=>{var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",c,e),window.removeEventListener("testPassiveEventSupport",c,e)}catch(t){}return t})(),Zt=!!document.createElement("canvas").getContext,qt=!(!document.createElementNS||!ut("svg").createSVGRect),Rt=!!qt&&((Rt=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(Rt.firstChild&&Rt.firstChild.namespaceURI));function w(t){return 0<=navigator.userAgent.toLowerCase().indexOf(t)}var x={ie:Ee,ielt9:mt,edge:n,webkit:ft,android:_t,android23:gt,androidStock:vt,opera:yt,chrome:bt,gecko:wt,safari:xt,phantom:Tt,opera12:o,win:Pt,ie3d:Lt,webkit3d:Ct,gecko3d:pt,any3d:Et,mobile:Ki,mobileWebkit:At,mobileWebkit3d:kt,msPointer:St,pointer:Mt,touch:Ot,touchNative:zt,mobileOpera:It,mobileGecko:Bt,retina:Dt,passiveEvents:Nt,canvas:Zt,svg:qt,vml:!qt&&(()=>{try{var t=document.createElement("div"),e=(t.innerHTML='<v:shape adj="1"/>',t.firstChild);return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}})(),inlineSvg:Rt,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},jt=x.msPointer?"MSPointerDown":"pointerdown",Wt=x.msPointer?"MSPointerMove":"pointermove",Ht=x.msPointer?"MSPointerUp":"pointerup",Ft=x.msPointer?"MSPointerCancel":"pointercancel",Ut={touchstart:jt,touchmove:Wt,touchend:Ht,touchcancel:Ft},Vt={touchstart:function(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&O(e),Xt(t,e)},touchmove:Xt,touchend:Xt,touchcancel:Xt},Gt={},Kt=!1;function Yt(t){Gt[t.pointerId]=t}function Jt(t){Gt[t.pointerId]&&(Gt[t.pointerId]=t)}function Qt(t){delete Gt[t.pointerId]}function Xt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var i in e.touches=[],Gt)e.touches.push(Gt[i]);e.changedTouches=[e],t(e)}}var $t=200;function te(t,i){t.addEventListener("dblclick",i);var n,o=0;function e(t){var e;1!==t.detail?n=t.detail:"mouse"===t.pointerType||t.sourceCapabilities&&!t.sourceCapabilities.firesTouchEvents||(e=De(t)).some(function(t){return t instanceof HTMLLabelElement&&t.attributes.for})&&!e.some(function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement})||((e=Date.now())-o<=$t?2==++n&&i((t=>{var e,i,n={};for(i in t)e=t[i],n[i]=e&&e.bind?e.bind(t):e;return(t=n).type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n})(t)):n=1,o=e)}return t.addEventListener("click",e),{dblclick:i,simDblclick:e}}var ee,ie,ne,oe,se,ae=ge(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),re=ge(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),le="webkitTransition"===re||"OTransition"===re?re+"End":"transitionend";function he(t){return"string"==typeof t?document.getElementById(t):t}function ce(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];return"auto"===(i=i&&"auto"!==i||!document.defaultView?i:(t=document.defaultView.getComputedStyle(t,null))?t[e]:null)?null:i}function T(t,e,i){return(t=document.createElement(t)).className=e||"",i&&i.appendChild(t),t}function P(t){var e=t.parentNode;e&&e.removeChild(t)}function ue(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function de(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function pe(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function me(t,e){return void 0!==t.classList?t.classList.contains(e):0<(t=_e(t)).length&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t)}function C(t,e){var i;if(void 0!==t.classList)for(var n=H(e),o=0,s=n.length;o<s;o++)t.classList.add(n[o]);else me(t,e)||fe(t,((i=_e(t))?i+" ":"")+e)}function E(t,e){void 0!==t.classList?t.classList.remove(e):fe(t,W((" "+_e(t)+" ").replace(" "+e+" "," ")))}function fe(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function _e(t){return void 0===(t=t.correspondingElement||t).className.baseVal?t.className:t.className.baseVal}function A(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}}function ge(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function ve(t,e,i){e=e||new m(0,0),t.style[ae]=(x.ie3d?"translate("+e.x+"px,"+e.y+"px)":"translate3d("+e.x+"px,"+e.y+"px,0)")+(i?" scale("+i+")":"")}function k(t,e){t._leaflet_pos=e,x.any3d?ve(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ye(t){return t._leaflet_pos||new m(0,0)}function be(){S(window,"dragstart",O)}function we(){z(window,"dragstart",O)}function xe(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Te(),se=(oe=t).style.outlineStyle,t.style.outlineStyle="none",S(window,"keydown",Te))}function Te(){oe&&(oe.style.outlineStyle=se,se=oe=void 0,z(window,"keydown",Te))}function Pe(t){for(;!((t=t.parentNode).offsetWidth&&t.offsetHeight||t===document.body););return t}function Le(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}function S(t,e,i,n){if(e&&"object"==typeof e)for(var o in e)Se(t,o,e[o],i);else for(var s=0,a=(e=H(e)).length;s<a;s++)Se(t,e[s],i,n);return this}var Ce="onselectstart"in document?(ne=function(){S(window,"selectstart",O)},function(){z(window,"selectstart",O)}):(ie=ge(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),ne=function(){var t;ie&&(t=document.documentElement.style,ee=t[ie],t[ie]="none")},function(){ie&&(document.documentElement.style[ie]=ee,ee=void 0)}),Ee={__proto__:null,TRANSFORM:ae,TRANSITION:re,TRANSITION_END:le,get:he,getStyle:ce,create:T,remove:P,empty:ue,toFront:de,toBack:pe,hasClass:me,addClass:C,removeClass:E,setClass:fe,getClass:_e,setOpacity:A,testProp:ge,setTransform:ve,setPosition:k,getPosition:ye,get disableTextSelection(){return ne},get enableTextSelection(){return Ce},disableImageDrag:be,enableImageDrag:we,preventOutline:xe,restoreOutline:Te,getSizedParentNode:Pe,getScale:Le},M="_leaflet_events";function z(t,e,i,n){if(1===arguments.length)Ae(t),delete t[M];else if(e&&"object"==typeof e)for(var o in e)Me(t,o,e[o],i);else if(e=H(e),2===arguments.length)Ae(t,function(t){return-1!==G(e,t)});else for(var s=0,a=e.length;s<a;s++)Me(t,e[s],i,n);return this}function Ae(t,e){for(var i in t[M]){var n=i.split(/\d/)[0];e&&!e(n)||Me(t,n,null,null,i)}}var ke={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Se(e,t,i,n){var o,s,a=t+l(i)+(n?"_"+l(n):"");e[M]&&e[M][a]||(s=o=function(t){return i.call(n||e,t||window.event)},!x.touchNative&&x.pointer&&0===t.indexOf("touch")?o=function(t,e,i){return"touchstart"!==e||Kt||(document.addEventListener(jt,Yt,!0),document.addEventListener(Wt,Jt,!0),document.addEventListener(Ht,Qt,!0),document.addEventListener(Ft,Qt,!0),Kt=!0),Vt[e]?(i=Vt[e].bind(this,i),t.addEventListener(Ut[e],i,!1),i):(console.warn("wrong event specified:",e),c)}(e,t,o):x.touch&&"dblclick"===t?o=te(e,o):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(ke[t]||t,o,!!x.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?e.addEventListener(ke[t],o=function(t){t=t||window.event,Re(e,t)&&s(t)},!1):e.addEventListener(t,s,!1):e.attachEvent("on"+t,o),e[M]=e[M]||{},e[M][a]=o)}function Me(t,e,i,n,o){var s,a;o=o||e+l(i)+(n?"_"+l(n):""),(i=t[M]&&t[M][o])&&(!x.touchNative&&x.pointer&&0===e.indexOf("touch")?(n=t,a=i,Ut[s=e]?n.removeEventListener(Ut[s],a,!1):console.warn("wrong event specified:",s)):x.touch&&"dblclick"===e?((a=t).removeEventListener("dblclick",(n=i).dblclick),a.removeEventListener("click",n.simDblclick)):"removeEventListener"in t?t.removeEventListener(ke[e]||e,i,!1):t.detachEvent("on"+e,i),t[M][o]=null)}function ze(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Oe(t){return Se(t,"wheel",ze),this}function Ie(t){return S(t,"mousedown touchstart dblclick contextmenu",ze),t._leaflet_disable_click=!0,this}function O(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Be(t){return O(t),ze(t),this}function De(t){if(t.composedPath)return t.composedPath();for(var e=[],i=t.target;i;)e.push(i),i=i.parentNode;return e}function Ne(t,e){var i,n;return e?(n=(i=Le(e)).boundingClientRect,new m((t.clientX-n.left)/i.x-e.clientLeft,(t.clientY-n.top)/i.y-e.clientTop)):new m(t.clientX,t.clientY)}var Ze=x.linux&&x.chrome?window.devicePixelRatio:x.mac?3*window.devicePixelRatio:0<window.devicePixelRatio?2*window.devicePixelRatio:1;function qe(t){return x.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Ze:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Re(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t}var mt={__proto__:null,on:S,off:z,stopPropagation:ze,disableScrollPropagation:Oe,disableClickPropagation:Ie,preventDefault:O,stop:Be,getPropagationPath:De,getMousePosition:Ne,getWheelDelta:qe,isExternalTarget:Re,addListener:S,removeListener:z},je=it.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=ye(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=y(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){t=this._startPos.add(this._offset.multiplyBy(t)),e&&t._round(),k(this._el,t),this.fire("step")},_complete:function(){a(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),I=it.extend({options:{crs:ht,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=u(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(b(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=re&&x.any3d&&!x.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),S(this._proxy,le,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){return(e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(b(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=h({animate:i.animate},i.zoom),i.pan=h({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan)))?clearTimeout(this._sizeTimer):this._resetView(t,e,i.pan&&i.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(x.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(x.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),o=this.getSize().divideBy(2),t=(t instanceof m?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/n),n=this.containerPointToLatLng(o.add(t));return this.setView(n,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():g(t);var i=f(e.paddingTopLeft||e.padding||[0,0]),n=f(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,i.add(n));return(o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0?{center:t.getCenter(),zoom:o}:(e=n.subtract(i).divideBy(2),n=this.project(t.getSouthWest(),o),i=this.project(t.getNorthEast(),o),{center:this.unproject(n.add(i).divideBy(2).add(e),o),zoom:o})},fitBounds:function(t,e){if((t=g(t)).isValid())return t=this._getBoundsCenterZoom(t,e),this.setView(t.center,t.zoom,e);throw new Error("Bounds are not valid.")},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){var i;return e=e||{},(t=f(t).round()).x||t.y?(!0===e.animate||this.getSize().contains(t)?(this._panAnim||(this._panAnim=new je,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate?(C(this._mapPane,"leaflet-pan-anim"),i=this._getMapPanePos().subtract(t).round(),this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)):(this._rawPanBy(t),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this):this.fire("moveend")},flyTo:function(o,s,t){if(!1===(t=t||{}).animate||!x.any3d)return this.setView(o,s,t);this._stop();var a=this.project(this.getCenter()),r=this.project(o),e=this.getSize(),l=this._zoom,h=(o=b(o),s=void 0===s?l:s,Math.max(e.x,e.y)),i=h*this.getZoomScale(l,s),c=r.distanceTo(a)||1,u=1.42,d=u*u;function n(t){return t=(i*i-h*h+(t?-1:1)*d*d*c*c)/(2*(t?i:h)*d*c),(t=Math.sqrt(t*t+1)-t)<1e-9?-18:Math.log(t)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function m(t){return(Math.exp(t)+Math.exp(-t))/2}var f=n(0);var _=Date.now(),g=(n(1)-f)/u,v=t.duration?1e3*t.duration:1e3*g*.8;return this._moveStart(!0,t.noMoveStart),function t(){var e,i=(Date.now()-_)/v,n=(1-Math.pow(1-i,1.5))*g;i<=1?(this._flyToFrame=y(t,this),this._move(this.unproject(a.add(r.subtract(a).multiplyBy((e=n,h*(m(f)*(p(e=f+u*e)/m(e))-p(f))/d/c))),l),this.getScaleZoom(h/(i=n,h*(m(f)/m(f+u*i))),l),{flyTo:!0})):this._move(o,s)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){return t=this._getBoundsCenterZoom(t,e),this.flyTo(t.center,t.zoom,e)},setMaxBounds:function(t){return t=g(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),t=this._limitCenter(i,this._zoom,g(t));return i.equals(t)||this.panTo(t,e),this._enforcingBounds=!1,this},panInside:function(t,e){var i=f((e=e||{}).paddingTopLeft||e.padding||[0,0]),n=f(e.paddingBottomRight||e.padding||[0,0]),o=this.project(this.getCenter()),t=this.project(t),s=(i=p([(s=this.getPixelBounds()).min.add(i),s.max.subtract(n)])).getSize();return i.contains(t)||(this._enforcingBounds=!0,n=t.subtract(i.getCenter()),i=i.extend(t).getSize().subtract(s),o.x+=n.x<0?-i.x:i.x,o.y+=n.y<0?-i.y:i.y,this.panTo(this.unproject(o),e),this._enforcingBounds=!1),this},invalidateSize:function(t){if(!this._loaded)return this;t=h({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize(),i=(this._sizeChanged=!0,this._lastCenter=null,this.getSize()),n=e.divideBy(2).round(),o=i.divideBy(2).round();return(n=n.subtract(o)).x||n.y?(t.animate&&t.pan?this.panBy(n):(t.pan&&this._rawPanBy(n),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){var e,i;return t=this._locateOptions=h({timeout:1e4,watch:!1},t),"geolocation"in navigator?(e=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this),t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t)):this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e;this._container._leaflet_id&&(e=t.code,t=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout"),this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+t+"."}))},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e,i,n=new v(t.coords.latitude,t.coords.longitude),o=n.toBounds(2*t.coords.accuracy),s=this._locateOptions,a=(s.setView&&(e=this.getBoundsZoom(o),this.setView(n,s.maxZoom?Math.min(e,s.maxZoom):e)),{latlng:n,bounds:o,timestamp:t.timestamp});for(i in t.coords)"number"==typeof t.coords[i]&&(a[i]=t.coords[i]);this.fire("locationfound",a)}},addHandler:function(t,e){return e&&(e=this[t]=new e(this),this._handlers.push(e),this.options[t])&&e.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}for(var t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),P(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(a(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)P(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){return e=T("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane),t&&(this._panes[t]=e),e},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new s(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=g(t),i=f(i||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),s=this.getMaxZoom(),a=t.getNorthWest(),t=t.getSouthEast(),i=this.getSize().subtract(i),t=p(this.project(t,n),this.project(a,n)).getSize(),a=x.any3d?this.options.zoomSnap:1,r=i.x/t.x,i=i.y/t.y,t=e?Math.max(r,i):Math.min(r,i),n=this.getScaleZoom(t,n);return a&&(n=Math.round(n/(a/100))*(a/100),n=e?Math.ceil(n/a)*a:Math.floor(n/a)*a),Math.max(o,Math.min(s,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new m(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){return new _(t=this._getTopLeftPoint(t,e),t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs,t=(e=void 0===e?this._zoom:e,i.zoom(t*i.scale(e)));return isNaN(t)?1/0:t},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(b(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(f(t),e)},layerPointToLatLng:function(t){return t=f(t).add(this.getPixelOrigin()),this.unproject(t)},latLngToLayerPoint:function(t){return this.project(b(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(b(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(g(t))},distance:function(t,e){return this.options.crs.distance(b(t),b(e))},containerPointToLayerPoint:function(t){return f(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return f(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){return t=this.containerPointToLayerPoint(f(t)),this.layerPointToLatLng(t)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(b(t)))},mouseEventToContainerPoint:function(t){return Ne(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){if(!(t=this._container=he(t)))throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");S(t,"scroll",this._onScroll,this),this._containerId=l(t)},_initLayout:function(){var t=this._container,e=(this._fadeAnimated=this.options.fadeAnimation&&x.any3d,C(t,"leaflet-container"+(x.touch?" leaflet-touch":"")+(x.retina?" leaflet-retina":"")+(x.ielt9?" leaflet-oldie":"")+(x.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":"")),ce(t,"position"));"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),k(this._mapPane,new m(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(C(t.markerPane,"leaflet-zoom-hide"),C(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,i){k(this._mapPane,new m(0,0));var n=!this._loaded,o=(this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset"),this._zoom!==e);this._moveStart(o,i)._move(t,e)._moveEnd(o),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i,n){void 0===e&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),n?i&&i.pinch&&this.fire("zoom",i):((o||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return a(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){k(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={};var e=t?z:S;e((this._targets[l(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),x.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){a(this._resizeRequest),this._resizeRequest=y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,n=[],o="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,a=!1;s;){if((i=this._targets[l(s)])&&("click"===e||"preclick"===e)&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(e,!0)){if(o&&!Re(s,t))break;if(n.push(i),o)break}if(s===this._container)break;s=s.parentNode}return n.length||a||o||!this.listens(e,!0)?n:[this]},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e,i=t.target||t.srcElement;!this._loaded||i._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(i)||("mousedown"===(e=t.type)&&xe(i),this._fireDOMEvent(t,e))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){"click"===t.type&&((r=h({},t)).type="preclick",this._fireDOMEvent(r,r.type,i));var n=this._findEventTargets(t,e);if(i){for(var o=[],s=0;s<i.length;s++)i[s].listens(e,!0)&&o.push(i[s]);n=o.concat(n)}if(n.length){"contextmenu"===e&&O(t);var a,r=n[0],l={originalEvent:t};for("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type&&(a=r.getLatLng&&(!r._radius||r._radius<=10),l.containerPoint=a?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),l.layerPoint=this.containerPointToLayerPoint(l.containerPoint),l.latlng=a?r.getLatLng():this.layerPointToLatLng(l.layerPoint)),s=0;s<n.length;s++)if(n[s].fire(e,l,!0),l.originalEvent._stopped||!1===n[s].options.bubblingMouseEvents&&-1!==G(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ye(this._mapPane)||new m(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){return i=this._getNewPixelOrigin(i,e),this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,i){return i=this._getNewPixelOrigin(i,e),p([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){var n,o;return!i||(n=this.project(t,e),o=this.getSize().divideBy(2),o=new _(n.subtract(o),n.add(o)),o=this._getBoundsOffset(o,i,e),Math.abs(o.x)<=1&&Math.abs(o.y)<=1)?t:this.unproject(n.add(o),e)},_limitOffset:function(t,e){var i;return e?(i=new _((i=this.getPixelBounds()).min.add(t),i.max.add(t)),t.add(this._getBoundsOffset(i,e))):t},_getBoundsOffset:function(t,e,i){return i=(e=p(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i))).min.subtract(t.min),e=e.max.subtract(t.max),new m(this._rebound(i.x,-e.x),this._rebound(i.y,-e.y))},_rebound:function(t,e){return 0<t+e?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=x.any3d?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){E(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){return t=this._getCenterOffset(t)._trunc(),!(!0!==(e&&e.animate)&&!this.getSize().contains(t)||(this.panBy(t,e),0))},_createAnimProxy:function(){var t=this._proxy=T("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=ae,i=this._proxy.style[e];ve(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){P(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();ve(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(!this._animatingZoom){if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),n=this._getCenterOffset(t)._divideBy(1-1/n);if(!0!==i.animate&&!this.getSize().contains(n))return!1;y(function(){this._moveStart(!0,i.noMoveStart||!1)._animateZoom(t,e,!0)},this)}return!0},_animateZoom:function(t,e,i,n){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,C(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:n}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&E(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function We(t){return new B(t)}var B=et.extend({options:{position:"topright"},initialize:function(t){u(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),t=t._controlCorners[i];return C(e,"leaflet-control"),-1!==i.indexOf("bottom")?t.insertBefore(e,t.firstChild):t.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(P(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(t){this._map&&t&&0<t.screenX&&0<t.screenY&&this._map.getContainer().focus()}}),He=(I.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var i=this._controlCorners={},n="leaflet-",o=this._controlContainer=T("div",n+"control-container",this._container);function t(t,e){i[t+e]=T("div",n+t+" "+n+e,o)}t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)P(this._controlCorners[t]);P(this._controlContainer),delete this._controlCorners,delete this._controlContainer}}),B.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){for(var n in u(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),(this._map=t).on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return B.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){return t.off("add remove",this._onLayerChange,this),(t=this._getLayer(l(t)))&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){C(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(C(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):E(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return E(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=T("div",t),i=this.options.collapsed,n=(e.setAttribute("aria-haspopup",!0),Ie(e),Oe(e),this._section=T("section",t+"-list")),o=(i&&(this._map.on("click",this.collapse,this),S(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this)),this._layersLink=T("a",t+"-toggle",e));o.href="#",o.title="Layers",o.setAttribute("role","button"),S(o,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){O(t),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=T("div",t+"-base",n),this._separator=T("div",t+"-separator",n),this._overlaysList=T("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&l(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(r(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(this._container){ue(this._baseLayersList),ue(this._overlaysList),this._layerControlInputs=[];for(var t,e,i,n=0,o=0;o<this._layers.length;o++)i=this._layers[o],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,n+=i.overlay?0:1;this.options.hideSingleBase&&(this._baseLayersList.style.display=(t=t&&1<n)?"":"none"),this._separator.style.display=e&&t?"":"none"}return this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(l(t.target));(t=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null)&&this._map.fire(t,e)},_createRadioElement:function(t,e){return t='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",(e=document.createElement("div")).innerHTML=t,e.firstChild},_addItem:function(t){var e,i=document.createElement("label"),n=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=n):e=this._createRadioElement("leaflet-base-layers_"+l(this),n),this._layerControlInputs.push(e),e.layerId=l(t.layer),S(e,"click",this._onInputClick,this);(n=document.createElement("span")).innerHTML=" "+t.name;var o=document.createElement("span");return i.appendChild(o),o.appendChild(e),o.appendChild(n),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t,e,i=this._layerControlInputs,n=[],o=[];this._handlingClick=!0;for(var s=i.length-1;0<=s;s--)t=i[s],e=this._getLayer(t.layerId).layer,(t.checked?n:(t.checked,o)).push(e);for(s=0;s<o.length;s++)this._map.hasLayer(o[s])&&this._map.removeLayer(o[s]);for(s=0;s<n.length;s++)this._map.hasLayer(n[s])||this._map.addLayer(n[s]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,n=this._map.getZoom(),o=i.length-1;0<=o;o--)t=i[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&n<e.options.minZoom||void 0!==e.options.maxZoom&&n>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section,e=(this._preventClick=!0,S(t,"click",O),this.expand(),this);setTimeout(function(){z(t,"click",O),e._preventClick=!1})}})),Fe=B.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=T("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,o){return(i=T("a",i,n)).innerHTML=t,i.href="#",i.title=e,i.setAttribute("role","button"),i.setAttribute("aria-label",e),Ie(i),S(i,"click",Be),S(i,"click",o,this),S(i,"click",this._refocusOnMap,this),i},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";E(this._zoomInButton,e),E(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),!this._disabled&&t._zoom!==t.getMinZoom()||(C(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),!this._disabled&&t._zoom!==t.getMaxZoom()||(C(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}}),Ue=(I.mergeOptions({zoomControl:!0}),I.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Fe,this.addControl(this.zoomControl))}),B.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=T("div",e),n=this.options;return this._addScales(n,e+"-line",i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=T("div",e,i)),t.imperial&&(this._iScale=T("div",e,i))},_update:function(){var t=(e=this._map).getSize().y/2,e=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(e)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t);this._updateScale(this._mScale,e<1e3?e+" m":e/1e3+" km",e/t)},_updateImperial:function(t){var e,i;5280<(t=3.2808399*t)?(i=this._getRoundNum(e=t/5280),this._updateScale(this._iScale,i+" mi",i/e)):(i=this._getRoundNum(t),this._updateScale(this._iScale,i+" ft",i/t))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1);return e*(10<=(t=t/e)?10:5<=t?5:3<=t?3:2<=t?2:1)}})),Ve=B.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(x.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(t){u(this,t),this._attributions={}},onAdd:function(t){for(var e in(t.attributionControl=this)._container=T("div","leaflet-control-attribution"),Ie(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t&&(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update()),this},removeAttribution:function(t){return t&&this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t,e=[];for(t in this._attributions)this._attributions[t]&&e.push(t);var i=[];this.options.prefix&&i.push(this.options.prefix),e.length&&i.push(e.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});I.mergeOptions({attributionControl:!0}),I.addInitHook(function(){this.options.attributionControl&&(new Ve).addTo(this)}),B.Layers=He,B.Zoom=Fe,B.Scale=Ue,B.Attribution=Ve,We.layers=function(t,e,i){return new He(t,e,i)},We.zoom=function(t){return new Fe(t)},We.scale=function(t){return new Ue(t)},We.attribution=function(t){return new Ve(t)};(n=et.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}})).addTo=function(t,e){return t.addHandler(e,this),this};var ft={Events:e},Ge=x.touch?"touchstart mousedown":"mousedown",Ke=it.extend({options:{clickTolerance:3},initialize:function(t,e,i,n){u(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(S(this._dragStartTarget,Ge,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ke._dragging===this&&this.finishDrag(!0),z(this._dragStartTarget,Ge,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){var e,i;this._enabled&&(this._moved=!1,me(this._element,"leaflet-zoom-anim")||(t.touches&&1!==t.touches.length?Ke._dragging===this&&this.finishDrag():Ke._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||((Ke._dragging=this)._preventOutline&&xe(this._element),be(),ne(),this._moving)||(this.fire("down"),i=t.touches?t.touches[0]:t,e=Pe(this._element),this._startPoint=new m(i.clientX,i.clientY),this._startPos=ye(this._element),this._parentScale=Le(e),i="mousedown"===t.type,S(document,i?"mousemove":"touchmove",this._onMove,this),S(document,i?"mouseup":"touchend touchcancel",this._onUp,this))))},_onMove:function(t){var e;this._enabled&&(t.touches&&1<t.touches.length?this._moved=!0:!(e=new m((e=t.touches&&1===t.touches.length?t.touches[0]:t).clientX,e.clientY)._subtract(this._startPoint)).x&&!e.y||Math.abs(e.x)+Math.abs(e.y)<this.options.clickTolerance||(e.x/=this._parentScale.x,e.y/=this._parentScale.y,O(t),this._moved||(this.fire("dragstart"),this._moved=!0,C(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),C(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(e),this._moving=!0,this._lastEvent=t,this._updatePosition()))},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),k(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){E(document.body,"leaflet-dragging"),this._lastTarget&&(E(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),z(document,"mousemove touchmove",this._onMove,this),z(document,"mouseup touchend touchcancel",this._onUp,this),we(),Ce();var e=this._moved&&this._moving;this._moving=!1,Ke._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Ye(t,e,i){for(var n,o,s,a,r,l,h,c=[1,4,2,8],u=0,d=t.length;u<d;u++)t[u]._code=ni(t[u],e);for(s=0;s<4;s++){for(l=c[s],n=[],u=0,o=(d=t.length)-1;u<d;o=u++)a=t[u],r=t[o],a._code&l?r._code&l||((h=ii(r,a,l,e,i))._code=ni(h,e),n.push(h)):(r._code&l&&((h=ii(r,a,l,e,i))._code=ni(h,e),n.push(h)),n.push(a));t=n}return t}function Je(t,e){var i,n,o,s,a,r,l;if(!t||0===t.length)throw new Error("latlngs not passed");D(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);for(var h=b([0,0]),c=g(t),u=(c.getNorthWest().distanceTo(c.getSouthWest())*c.getNorthEast().distanceTo(c.getNorthWest())<1700&&(h=Qe(t)),t.length),d=[],p=0;p<u;p++){var m=b(t[p]);d.push(e.project(b([m.lat-h.lat,m.lng-h.lng])))}for(p=a=r=l=0,i=u-1;p<u;i=p++)s=(n=d[p]).y*(o=d[i]).x-o.y*n.x,r+=(n.x+o.x)*s,l+=(n.y+o.y)*s,a+=3*s;return b([(c=e.unproject(f(c=0===a?d[0]:[r/a,l/a]))).lat+h.lat,c.lng+h.lng])}function Qe(t){for(var e=0,i=0,n=0,o=0;o<t.length;o++){var s=b(t[o]);e+=s.lat,i+=s.lng,n++}return b([e/n,i/n])}var Xe,_t={__proto__:null,clipPolygon:Ye,polygonCenter:Je,centroid:Qe};function $e(t,e){if(e&&t.length){var i=t=((t,e)=>{for(var i,n,o,s=[t[0]],a=1,r=0,l=t.length;a<l;a++)i=t[a],o=void 0,(o=(n=t[r]).x-i.x)*o+(n=n.y-i.y)*n>e&&(s.push(t[a]),r=a);return r<l-1&&s.push(t[l-1]),s})(t,e*=e),n=i.length,o=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);o[0]=o[n-1]=1,function t(e,i,n,o,s){for(var a,r,l=0,h=o+1;h<=s-1;h++)l<(r=oi(e[h],e[o],e[s],!0))&&(a=h,l=r);n<l&&(i[a]=1,t(e,i,n,o,a),t(e,i,n,a,s))}(i,o,e,0,n-1);for(var s=[],a=0;a<n;a++)o[a]&&s.push(i[a]);return s}return t.slice()}function ti(t,e,i){return Math.sqrt(oi(t,e,i,!0))}function ei(t,e,i,n,o){var s,a,r,l=n?Xe:ni(t,i),h=ni(e,i);for(Xe=h;;){if(!(l|h))return[t,e];if(l&h)return!1;r=ni(a=ii(t,e,s=l||h,i,o),i),s===l?(t=a,l=r):(e=a,h=r)}}function ii(t,e,i,n,o){var s,a,r=e.x-t.x,e=e.y-t.y,l=n.min,n=n.max;return 8&i?(s=t.x+r*(n.y-t.y)/e,a=n.y):4&i?(s=t.x+r*(l.y-t.y)/e,a=l.y):2&i?(s=n.x,a=t.y+e*(n.x-t.x)/r):1&i&&(s=l.x,a=t.y+e*(l.x-t.x)/r),new m(s,a,o)}function ni(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function oi(t,e,i,n){var o=e.x,e=e.y,s=i.x-o,a=i.y-e,r=s*s+a*a;return 0<r&&(1<(r=((t.x-o)*s+(t.y-e)*a)/r)?(o=i.x,e=i.y):0<r&&(o+=s*r,e+=a*r)),s=t.x-o,a=t.y-e,n?s*s+a*a:new m(o,e)}function D(t){return!d(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function si(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),D(t)}function ai(t,e){var i,n,o,s,a,r;if(!t||0===t.length)throw new Error("latlngs not passed");D(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);for(var l=b([0,0]),h=g(t),c=(h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(l=Qe(t)),t.length),u=[],d=0;d<c;d++){var p=b(t[d]);u.push(e.project(b([p.lat-l.lat,p.lng-l.lng])))}for(i=d=0;d<c-1;d++)i+=u[d].distanceTo(u[d+1])/2;if(0===i)r=u[0];else for(n=d=0;d<c-1;d++)if(i<(n+=a=(o=u[d]).distanceTo(s=u[d+1]))){r=[s.x-(a=(n-i)/a)*(s.x-o.x),s.y-a*(s.y-o.y)];break}return b([(h=e.unproject(f(r))).lat+l.lat,h.lng+l.lng])}var gt={__proto__:null,simplify:$e,pointToSegmentDistance:ti,closestPointOnSegment:function(t,e,i){return oi(t,e,i)},clipSegment:ei,_getEdgeIntersection:ii,_getBitCode:ni,_sqClosestPointOnSegment:oi,isFlat:D,_flat:si,polylineCenter:ai},bt={__proto__:null,LonLat:vt={project:function(t){return new m(t.lng,t.lat)},unproject:function(t){return new v(t.y,t.x)},bounds:new _([-180,-90],[180,90])},Mercator:yt={R:6378137,R_MINOR:6356752.314245179,bounds:new _([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,o=this.R_MINOR/i,s=(o=Math.sqrt(1-o*o))*Math.sin(n),s=Math.tan(Math.PI/4-n/2)/Math.pow((1-s)/(1+s),o/2),n=-i*Math.log(Math.max(s,1e-10));return new m(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,o=this.R_MINOR/n,s=Math.sqrt(1-o*o),a=Math.exp(-t.y/n),r=Math.PI/2-2*Math.atan(a),l=0,h=.1;l<15&&1e-7<Math.abs(h);l++)e=s*Math.sin(r),e=Math.pow((1-e)/(1+e),s/2),r+=h=Math.PI/2-2*Math.atan(a*e)-r;return new v(r*i,t.x*i/n)}},SphericalMercator:at},xt=h({},st,{code:"EPSG:3395",projection:yt,transformation:lt(wt=.5/(Math.PI*yt.R),.5,-wt,.5)}),ri=h({},st,{code:"EPSG:4326",projection:vt,transformation:lt(1/180,1,-1/180,.5)}),Tt=h({},ot,{projection:vt,transformation:lt(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,e=e.lat-t.lat;return Math.sqrt(i*i+e*e)},infinite:!0}),o=(ot.Earth=st,ot.EPSG3395=xt,ot.EPSG3857=ht,ot.EPSG900913=ct,ot.EPSG4326=ri,ot.Simple=Tt,it.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[l(t)]=this},removeInteractiveTarget:function(t){return delete this._map._targets[l(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e,i=t.target;i.hasLayer(this)&&(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents&&(e=this.getEvents(),i.on(e,this),this.once("remove",function(){i.off(e,this)},this)),this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this}))}})),li=(I.include({addLayer:function(t){var e;if(t._layerAdd)return e=l(t),this._layers[e]||((this._layers[e]=t)._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this;throw new Error("The provided object is not a Layer.")},removeLayer:function(t){var e=l(t);return this._layers[e]&&(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null),this},hasLayer:function(t){return l(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?d(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[l(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){t=l(t),this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var t,e=1/0,i=-1/0,n=this._getZoomSpan();for(t in this._zoomBoundLayers)var o=this._zoomBoundLayers[t].options,e=void 0===o.minZoom?e:Math.min(e,o.minZoom),i=void 0===o.maxZoom?i:Math.max(i,o.maxZoom);this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}}),o.extend({initialize:function(t,e){var i,n;if(u(this,e),this._layers={},t)for(i=0,n=t.length;i<n;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){return t=t in this._layers?t:this.getLayerId(t),this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(t){return("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:l})),hi=li.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),li.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?((t=t in this._layers?this._layers[t]:t).removeEventParent(this),li.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t,e=new s;for(t in this._layers){var i=this._layers[t];e.extend(i.getBounds?i.getBounds():i.getLatLng())}return e}}),ci=et.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){u(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(i)return i=this._createImg(i,e&&"IMG"===e.tagName?e:null),this._setIconStyles(i,t),!this.options.crossOrigin&&""!==this.options.crossOrigin||(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i;if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null},_setIconStyles:function(t,e){var i=this.options,n=f(n="number"==typeof(n=i[e+"Size"])?[n,n]:n),o=f("shadow"===e&&i.shadowAnchor||i.iconAnchor||n&&n.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),n&&(t.style.width=n.x+"px",t.style.height=n.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return x.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),ui=ci.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!=typeof ui.imagePath&&(ui.imagePath=this._detectIconPath()),(this.options.imagePath||ui.imagePath)+ci.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){function e(t,e,i){return(e=e.exec(t))&&e[i]}return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=T("div","leaflet-default-icon-path",document.body),e=ce(t,"background-image")||ce(t,"backgroundImage");return document.body.removeChild(t),this._stripUrl(e)||((t=document.querySelector('link[href$="leaflet.css"]'))?t.href.substring(0,t.href.length-"leaflet.css".length-1):"")}}),di=n.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Ke(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),C(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&E(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,n=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,s=ye(e._icon),a=i.getPixelBounds(),r=i.getPixelOrigin();(r=p(a.min._subtract(r).add(o),a.max._subtract(r).subtract(o))).contains(s)||(o=f((Math.max(r.max.x,s.x)-r.max.x)/(a.max.x-r.max.x)-(Math.min(r.min.x,s.x)-r.min.x)/(a.min.x-r.min.x),(Math.max(r.max.y,s.y)-r.max.y)/(a.max.y-r.max.y)-(Math.min(r.min.y,s.y)-r.min.y)/(a.min.y-r.min.y)).multiplyBy(n),i.panBy(o,{animate:!1}),this._draggable._newPos._add(o),this._draggable._startPos._add(o),k(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=y(this._adjustPan.bind(this,t)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(a(this._panRequest),this._panRequest=y(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,n=ye(e._icon),o=e._map.layerPointToLatLng(n);i&&k(i,n),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){a(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),pi=o.extend({options:{icon:new ui,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){u(this,e),this._latlng=b(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=b(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var t;return this._icon&&this._map&&(t=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(t)),this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),"IMG"===i.tagName)&&(i.alt=t.alt||""),C(i,e),t.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&S(i,"focus",this._panOnFocus,this);var o=!1;(i=t.icon.createShadow(this._shadow))!==this._shadow&&(this._removeShadow(),o=!0),i&&(C(i,e),i.alt=""),this._shadow=i,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&z(this._icon,"focus",this._panOnFocus,this),P(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&P(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&k(this._icon,t),this._shadow&&k(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round(),this._setPos(t)},_initInteraction:function(){var t;this.options.interactive&&(C(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),di)&&(t=this.options.draggable,this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new di(this),t)&&this.dragging.enable()},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&A(this._icon,t),this._shadow&&A(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t,e,i=this._map;i&&(t=(e=this.options.icon.options).iconSize?f(e.iconSize):f(0,0),e=e.iconAnchor?f(e.iconAnchor):f(0,0),i.panInside(this._latlng,{paddingTopLeft:e,paddingBottomRight:t.subtract(e)}))},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),mi=o.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return u(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke)&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds(),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fi=mi.extend({options:{fill:!0,radius:10},initialize:function(t,e){u(this,e),this._latlng=b(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=b(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return mi.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance();this._pxBounds=new _(this._point.subtract(t=[t+i,e+i]),this._point.add(t))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),_i=fi.extend({initialize:function(t,e,i){if(u(this,e="number"==typeof e?h({},i,{radius:e}):e),this._latlng=b(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new s(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:mi.prototype.setStyle,_project:function(){var t,e,i,n,o,s=this._latlng.lng,a=this._latlng.lat,r=this._map,l=r.options.crs;l.distance===st.distance?(n=Math.PI/180,o=this._mRadius/st.R/n,t=r.project([a+o,s]),e=r.project([a-o,s]),e=t.add(e).divideBy(2),i=r.unproject(e).lat,n=Math.acos((Math.cos(o*n)-Math.sin(a*n)*Math.sin(i*n))/(Math.cos(a*n)*Math.cos(i*n)))/n,!isNaN(n)&&0!==n||(n=o/Math.cos(Math.PI/180*a)),this._point=e.subtract(r.getPixelOrigin()),this._radius=isNaN(n)?0:e.x-r.project([i,s-n]).x,this._radiusY=e.y-t.y):(o=l.unproject(l.project(this._latlng).subtract([this._mRadius,0])),this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(o).x),this._updateBounds()}}),gi=mi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){u(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,i=null,n=oi,o=0,s=this._parts.length;o<s;o++)for(var a=this._parts[o],r=1,l=a.length;r<l;r++){var h,c,u=n(t,h=a[r-1],c=a[r],!0);u<e&&(e=u,i=n(t,h,c))}return i&&(i.distance=Math.sqrt(e)),i},getCenter:function(){if(this._map)return ai(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=b(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new s,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return D(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=D(t),n=0,o=t.length;n<o;n++)i?(e[n]=b(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new _;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=new m(t=this._clickTolerance(),t);this._rawPxBounds&&(this._pxBounds=new _([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(t,e,i){var n,o,s=t[0]instanceof v,a=t.length;if(s){for(o=[],n=0;n<a;n++)o[n]=this._map.latLngToLayerPoint(t[n]),i.extend(o[n]);e.push(o)}else for(n=0;n<a;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var e,i,n,o,s=this._parts,a=0,r=0,l=this._rings.length;a<l;a++)for(e=0,i=(o=this._rings[a]).length;e<i-1;e++)(n=ei(o[e],o[e+1],t,e,!0))&&(s[r]=s[r]||[],s[r].push(n[0]),n[1]===o[e+1]&&e!==i-2||(s[r].push(n[1]),r++))},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=$e(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,n,o,s,a,r,l=this._clickTolerance();if(this._pxBounds&&this._pxBounds.contains(t))for(i=0,s=this._parts.length;i<s;i++)for(n=0,o=(a=(r=this._parts[i]).length)-1;n<a;o=n++)if((e||0!==n)&&ti(t,r[o],r[n])<=l)return!0;return!1}}),vi=(gi._flat=si,gi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(this._map)return Je(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},_convertLatLngs:function(t){var e=(t=gi.prototype._convertLatLngs.call(this,t)).length;return 2<=e&&t[0]instanceof v&&t[0].equals(t[e-1])&&t.pop(),t},_setLatLngs:function(t){gi.prototype._setLatLngs.call(this,t),D(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return(D(this._latlngs[0])?this._latlngs:this._latlngs[0])[0]},_clipPoints:function(){var t=this._renderer._bounds,e=new m(e=this.options.weight,e),t=new _(t.min.subtract(e),t.max.add(e));if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,n=0,o=this._rings.length;n<o;n++)(i=Ye(this._rings[n],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,n,o,s,a,r,l,h=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,r=this._parts.length;o<r;o++)for(s=0,a=(l=(e=this._parts[o]).length)-1;s<l;a=s++)i=e[s],n=e[a],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(h=!h);return h||gi.prototype._containsPoint.call(this,t,!0)}})),yi=hi.extend({initialize:function(t,e){u(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,o=d(t)?t:t.features;if(o){for(e=0,i=o.length;e<i;e++)((n=o[e]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var s,a=this.options;return a.filter&&!a.filter(t)||!(s=bi(t,a))?this:(s.feature=Ei(t),s.defaultOptions=s.options,this.resetStyle(s),a.onEachFeature&&a.onEachFeature(t,s),this.addLayer(s))},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=h({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function bi(t,e){var i,n,o,s,a="Feature"===t.type?t.geometry:t,r=a?a.coordinates:null,l=[],h=e&&e.pointToLayer,c=e&&e.coordsToLatLng||xi;if(!r&&!a)return null;switch(a.type){case"Point":return wi(h,t,i=c(r),e);case"MultiPoint":for(o=0,s=r.length;o<s;o++)i=c(r[o]),l.push(wi(h,t,i,e));return new hi(l);case"LineString":case"MultiLineString":return n=Ti(r,"LineString"===a.type?0:1,c),new gi(n,e);case"Polygon":case"MultiPolygon":return n=Ti(r,"Polygon"===a.type?1:2,c),new vi(n,e);case"GeometryCollection":for(o=0,s=a.geometries.length;o<s;o++){var u=bi({geometry:a.geometries[o],type:"Feature",properties:t.properties},e);u&&l.push(u)}return new hi(l);case"FeatureCollection":for(o=0,s=a.features.length;o<s;o++){var d=bi(a.features[o],e);d&&l.push(d)}return new hi(l);default:throw new Error("Invalid GeoJSON object.")}}function wi(t,e,i,n){return t?t(e,i):new pi(i,n&&n.markersInheritOptions&&n)}function xi(t){return new v(t[1],t[0],t[2])}function Ti(t,e,i){for(var n,o=[],s=0,a=t.length;s<a;s++)n=e?Ti(t[s],e-1,i):(i||xi)(t[s]),o.push(n);return o}function Pi(t,e){return void 0!==(t=b(t)).alt?[i(t.lng,e),i(t.lat,e),i(t.alt,e)]:[i(t.lng,e),i(t.lat,e)]}function Li(t,e,i,n){for(var o=[],s=0,a=t.length;s<a;s++)o.push(e?Li(t[s],D(t[s])?0:e-1,i,n):Pi(t[s],n));return!e&&i&&0<o.length&&o.push(o[0].slice()),o}function Ci(t,e){return t.feature?h({},t.feature,{geometry:e}):Ei(e)}function Ei(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function Ai(t,e){return new yi(t,e)}pi.include(Pt={toGeoJSON:function(t){return Ci(this,{type:"Point",coordinates:Pi(this.getLatLng(),t)})}}),_i.include(Pt),fi.include(Pt),gi.include({toGeoJSON:function(t){var e=!D(this._latlngs);return Ci(this,{type:(e?"Multi":"")+"LineString",coordinates:Li(this._latlngs,e?1:0,!1,t)})}}),vi.include({toGeoJSON:function(t){var e=!D(this._latlngs),i=e&&!D(this._latlngs[0]),t=Li(this._latlngs,i?2:e?1:0,!0,t);return Ci(this,{type:(i?"Multi":"")+"Polygon",coordinates:t=e?t:[t]})}}),li.include({toMultiPoint:function(e){var i=[];return this.eachLayer(function(t){i.push(t.toGeoJSON(e).geometry.coordinates)}),Ci(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(e){var i,n,t=this.feature&&this.feature.geometry&&this.feature.geometry.type;return"MultiPoint"===t?this.toMultiPoint(e):(i="GeometryCollection"===t,n=[],this.eachLayer(function(t){t.toGeoJSON&&(t=t.toGeoJSON(e),i?n.push(t.geometry):"FeatureCollection"===(t=Ei(t)).type?n.push.apply(n,t.features):n.push(t))}),i?Ci(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n})}});var Lt=Ai,ki=o.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=g(e),u(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(C(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){P(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&de(this._image),this},bringToBack:function(){return this._map&&pe(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=g(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:T("img");C(e,"leaflet-image-layer"),this._zoomAnimated&&C(e,"leaflet-zoom-animated"),this.options.className&&C(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),t=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ve(this._image,t,e)},_reset:function(){var t=this._image,e=new _(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();k(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){A(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Si=ki.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:T("video");if(C(e,"leaflet-image-layer"),this._zoomAnimated&&C(e,"leaflet-zoom-animated"),this.options.className&&C(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onloadeddata=r(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),n=[],o=0;o<i.length;o++)n.push(i[o].src);this._url=0<i.length?n:[e.src]}else{d(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var a=T("source");a.src=this._url[s],e.appendChild(a)}}}}),Mi=ki.extend({_initImage:function(){var t=this._image=this._url;C(t,"leaflet-image-layer"),this._zoomAnimated&&C(t,"leaflet-zoom-animated"),this.options.className&&C(t,this.options.className),t.onselectstart=c,t.onmousemove=c}}),zi=o.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof v||d(t))?(this._latlng=b(t),u(this,e)):(u(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&A(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&A(this._container,1),this.bringToFront(),this.options.interactive&&(C(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(A(this._container,0),this._removeTimeout=setTimeout(r(P,void 0,this._container),200)):P(this._container),this.options.interactive&&(E(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=b(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&de(this._container),this},bringToBack:function(){return this._map&&pe(this._container),this},_prepareOpen:function(t){if(!(i=this._source)._map)return!1;if(i instanceof hi){var e,i=null,n=this._source._layers;for(e in n)if(n[e]._map){i=n[e];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else{if(!i.getBounds)throw new Error("Unable to get source layer LatLng.");t=i.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){var t,e,i;this._map&&(e=this._map.latLngToLayerPoint(this._latlng),t=f(this.options.offset),i=this._getAnchor(),this._zoomAnimated?k(this._container,e.add(i)):t=t.add(e).add(i),e=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x,this._container.style.bottom=e+"px",this._container.style.left=i+"px")},_getAnchor:function(){return[0,0]}}),Oi=(I.include({_initOverlay:function(t,e,i,n){var o=e;return o instanceof t||(o=new t(n).setContent(e)),i&&o.setLatLng(i),o}}),o.include({_initOverlay:function(t,e,i,n){var o=i;return o instanceof t?(u(o,n),o._source=this):(o=e&&!n?e:new t(n,this)).setContent(i),o}}),zi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,zi.prototype.openOn.call(this,t)},onAdd:function(t){zi.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof mi||this._source.on("preclick",ze))},onRemove:function(t){zi.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof mi||this._source.off("preclick",ze))},getEvents:function(){var t=zi.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=T("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=T("div",t+"-content-wrapper",e);this._contentNode=T("div",t+"-content",i),Ie(e),Oe(this._contentNode),S(e,"contextmenu",ze),this._tipContainer=T("div",t+"-tip-container",e),this._tip=T("div",t+"-tip",this._tipContainer),this.options.closeButton&&((i=this._closeButton=T("a",t+"-close-button",e)).setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',S(i,"click",function(t){O(t),this.close()},this))},_updateLayout:function(){var t=this._contentNode,e=t.style,i=(e.width="",e.whiteSpace="nowrap",t.offsetWidth),i=Math.min(i,this.options.maxWidth),i=(i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="",t.offsetHeight),n=this.options.maxHeight;(n&&n<i?(e.height=n+"px",C):E)(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),e=this._getAnchor();k(this._container,t.add(e))},_adjustPan:function(){var t,e,i,n,o,s,a,r;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning?this._autopanning=!1:(t=this._map,e=parseInt(ce(this._container,"marginBottom"),10)||0,e=this._container.offsetHeight+e,r=this._containerWidth,(i=new m(this._containerLeft,-e-this._containerBottom))._add(ye(this._container)),i=t.layerPointToContainerPoint(i),o=f(this.options.autoPanPadding),n=f(this.options.autoPanPaddingTopLeft||o),o=f(this.options.autoPanPaddingBottomRight||o),s=t.getSize(),a=0,i.x+r+o.x>s.x&&(a=i.x+r-s.x+o.x),i.x-a-n.x<(r=0)&&(a=i.x-n.x),i.y+e+o.y>s.y&&(r=i.y+e-s.y+o.y),i.y-r-n.y<0&&(r=i.y-n.y),(a||r)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([a,r]))))},_getAnchor:function(){return f(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}})),Ii=(I.mergeOptions({closePopupOnClick:!0}),I.include({openPopup:function(t,e,i){return this._initOverlay(Oi,t,e,i).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),o.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Oi,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof hi||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng))&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e;this._popup&&this._map&&(Be(t),e=t.layer||t.target,this._popup._source!==e||e instanceof mi?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}}),zi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){zi.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){zi.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=zi.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=T("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i=this._map,n=this._container,o=i.latLngToContainerPoint(i.getCenter()),i=i.layerPointToContainerPoint(t),s=this.options.direction,a=n.offsetWidth,r=n.offsetHeight,l=f(this.options.offset),h=this._getAnchor(),i="top"===s?(e=a/2,r):"bottom"===s?(e=a/2,0):(e="center"===s?a/2:"right"===s?0:"left"===s?a:i.x<o.x?(s="right",0):(s="left",a+2*(l.x+h.x)),r/2);t=t.subtract(f(e,i,!0)).add(l).add(h),E(n,"leaflet-tooltip-right"),E(n,"leaflet-tooltip-left"),E(n,"leaflet-tooltip-top"),E(n,"leaflet-tooltip-bottom"),C(n,"leaflet-tooltip-"+s),k(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&A(this._container,t)},_animateZoom:function(t){t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),this._setPosition(t)},_getAnchor:function(){return f(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}})),Bi=(I.include({openTooltip:function(t,e,i){return this._initOverlay(Ii,t,e,i).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),o.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ii,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){var e,i;!t&&this._tooltipHandlersAdded||(e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[e](i),this._tooltipHandlersAdded=!t)},openTooltip:function(t){return this._tooltip&&(this instanceof hi||(this._tooltip._source=this),this._tooltip._prepareOpen(t))&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this)),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e="function"==typeof t.getElement&&t.getElement();e&&(S(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),S(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){(t="function"==typeof t.getElement&&t.getElement())&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){var e;this._tooltip&&this._map&&(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag?(this._openOnceFlag=!0,(e=this)._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)})):(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)))},_moveTooltip:function(t){var e=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(t=this._map.mouseEventToContainerPoint(t.originalEvent),t=this._map.containerPointToLayerPoint(t),e=this._map.layerPointToLatLng(t)),this._tooltip.setLatLng(e)}}),ci.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var t=t&&"DIV"===t.tagName?t:document.createElement("div"),e=this.options;return e.html instanceof Element?(ue(t),t.appendChild(e.html)):t.innerHTML=!1!==e.html?e.html:"",e.bgPos&&(e=f(e.bgPos),t.style.backgroundPosition=-e.x+"px "+-e.y+"px"),this._setIconStyles(t,"icon"),t},createShadow:function(){return null}})),Di=(ci.Default=ui,o.extend({options:{tileSize:256,opacity:1,updateWhenIdle:x.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){u(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),P(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(de(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(pe(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){var t;return this._map&&(this._removeAllTiles(),(t=this._clampZoom(this._map.getZoom()))!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=R(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof m?t:new m(t,t)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-1/0,1/0),o=0,s=i.length;o<s;o++)e=i[o].style.zIndex,i[o]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!x.ielt9){A(this._container,this.options.opacity);var t,e=+new Date,i=!1,n=!1;for(t in this._tiles){var o,s=this._tiles[t];s.current&&s.loaded&&(o=Math.min(1,(e-s.loaded)/200),A(s.el,o),o<1?i=!0:(s.active?n=!0:this._onOpaqueTile(s),s.active=!0))}n&&!this._noPrune&&this._pruneTiles(),i&&(a(this._fadeFrame),this._fadeFrame=y(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=T("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(P(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[t],o=this._map;return n||((n=this._levels[t]={}).el=T("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,o.getCenter(),o.getZoom()),c(n.el.offsetWidth),this._onCreateLevel(n)),this._level=n}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var t,e,i,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(i=this._tiles[t]).retain=i.current;for(t in this._tiles)(i=this._tiles[t]).current&&!i.active&&(e=i.coords,this._retainParent(e.x,e.y,e.z,e.z-5)||this._retainChildren(e.x,e.y,e.z,e.z+2));for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)P(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,n){var i=i-1,o=((o=new m(+(t=Math.floor(t/2)),+(e=Math.floor(e/2)))).z=i,this._tileCoordsToKey(o));return(o=this._tiles[o])&&o.active?o.retain=!0:(o&&o.loaded&&(o.retain=!0),n<i&&this._retainParent(t,e,i,n))},_retainChildren:function(t,e,i,n){for(var o=2*t;o<2*t+2;o++)for(var s=2*e;s<2*e+2;s++){(a=new m(o,s)).z=i+1;var a=this._tileCoordsToKey(a);(a=this._tiles[a])&&a.active?a.retain=!0:(a&&a.loaded&&(a.retain=!0),i+1<n&&this._retainChildren(o,s,i+1,n))}},_resetView:function(t){t=t&&(t.pinch||t.flyTo),this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,n){var o=Math.round(e),o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o),s=this.options.updateWhenZooming&&o!==this._tileZoom;n&&!s||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),e=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();x.any3d?ve(t.el,e,n):k(t.el,e)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=(i=this._map)._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),e=i.getZoomScale(e,this._tileZoom),t=i.project(t,this._tileZoom).floor(),i=i.getSize().divideBy(2*e);return new _(t.subtract(i),t.add(i))},_update:function(t){if(n=this._map){var e=this._clampZoom(n.getZoom());if(void 0===t&&(t=n.getCenter()),void 0!==this._tileZoom){var i,n=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(n),s=o.getCenter(),a=[],n=this.options.keepBuffer,r=new _(o.getBottomLeft().subtract([n,-n]),o.getTopRight().add([n,-n]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(i in this._tiles){var l=this._tiles[i].coords;l.z===this._tileZoom&&r.contains(new m(l.x,l.y))||(this._tiles[i].current=!1)}if(1<Math.abs(e-this._tileZoom))this._setView(t,e);else{for(var h=o.min.y;h<=o.max.y;h++)for(var c=o.min.x;c<=o.max.x;c++){var u,d=new m(c,h);d.z=this._tileZoom,this._isValidTile(d)&&((u=this._tiles[this._tileCoordsToKey(d)])?u.current=!0:a.push(d))}if(a.sort(function(t,e){return t.distanceTo(s)-e.distanceTo(s)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));for(var p=document.createDocumentFragment(),c=0;c<a.length;c++)this._addTile(a[c],p);this._level.el.appendChild(p)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}return!this.options.bounds||(e=this._tileCoordsToBounds(t),g(this.options.bounds).overlaps(e))},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),i=n.add(i);return[e.unproject(n,t.z),e.unproject(i,t.z)]},_tileCoordsToBounds:function(t){return t=new s((t=this._tileCoordsToNwSe(t))[0],t[1]),this.options.noWrap?t:this._map.wrapLatLngBounds(t)},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=new m(+(t=t.split(":"))[0],+t[1]);return e.z=+t[2],e},_removeTile:function(t){var e=this._tiles[t];e&&(P(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){C(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=c,t.onmousemove=c,x.ielt9&&this.options.opacity<1&&A(t,this.options.opacity)},_addTile:function(t,e){var i=this._getTilePos(t),n=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&y(r(this._tileReady,this,t,null,o)),k(o,i),this._tiles[n]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var n=this._tileCoordsToKey(t);(i=this._tiles[n])&&(i.loaded=+new Date,this._map._fadeAnimated?(A(i.el,0),a(this._fadeFrame),this._fadeFrame=y(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(C(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad())&&(this._loading=!1,this.fire("load"),x.ielt9||!this._map._fadeAnimated?y(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new m(this._wrapX?j(t.x,this._wrapX):t.x,this._wrapY?j(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new _(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}})),Ni=Di.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=u(this,e)).detectRetina&&x.retina&&0<e.maxZoom?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return S(i,"load",r(this._tileOnLoad,this,e,i)),S(i,"error",r(this._tileOnError,this,e,i)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:x.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(t=this._globalTileRange.max.y-t.y,this.options.tms&&(e.y=t),e["-y"]=t),V(this._url,h(e,this.options))},_tileOnLoad:function(t,e){x.ielt9?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.getAttribute("src")!==n&&(e.src=n),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return(this.options.zoomReverse?e-t:t)+this.options.zoomOffset},_getSubdomain:function(t){return t=Math.abs(t.x+t.y)%this.options.subdomains.length,this.options.subdomains[t]},_abortLoading:function(){var t,e,i;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((i=this._tiles[t].el).onload=c,i.onerror=c,i.complete||(i.src=K,e=this._tiles[t].coords,P(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:e})))},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",K),Di.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(this._map&&(!i||i.getAttribute("src")!==K))return Di.prototype._tileReady.call(this,t,e,i)}});function Zi(t,e){return new Ni(t,e)}var qi=Ni.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i,n=h({},this.defaultWmsParams);for(i in e)i in this.options||(n[i]=e[i]);var t=(e=u(this,e)).detectRetina&&x.retina?2:1,o=this.getTileSize();n.width=o.x*t,n.height=o.y*t,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[e]=this._crs.code,Ni.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),e=(i=p((i=this._crs).project(e[0]),i.project(e[1]))).min,i=i.max,e=(1.3<=this._wmsVersion&&this._crs===ri?[e.y,e.x,i.y,i.x]:[e.x,e.y,i.x,i.y]).join(",");return(i=Ni.prototype.getTileUrl.call(this,t))+F(this.wmsParams,i,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+e},setParams:function(t,e){return h(this.wmsParams,t),e||this.redraw(),this}}),Ri=(Ni.WMS=qi,Zi.wms=function(t,e){return new qi(t,e)},o.extend({options:{padding:.1},initialize:function(t){u(this,t),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),C(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),n=n.multiplyBy(-i).add(o).subtract(this._map._getNewPixelOrigin(t,e));x.any3d?ve(this._container,n,i):k(this._container,n)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new _(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}})),ji=Ri.extend({options:{tolerance:0},getEvents:function(){var t=Ri.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");S(t,"mousemove",this._onMouseMove,this),S(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),S(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){a(this._redrawRequest),delete this._ctx,P(this._container),z(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){var t,e,i,n;this._map._animatingZoom&&this._bounds||(Ri.prototype._update.call(this),t=this._bounds,e=this._container,i=t.getSize(),n=x.retina?2:1,k(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",x.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update"))},_reset:function(){Ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),t=(this._layers[l(t)]=t)._order={layer:t,prev:this._drawLast,next:null},this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=(i=t._order).next,i=i.prev;e?e.prev=i:this._drawLast=i,i?i.next=e:this._drawFirst=e,delete t._order,delete this._layers[l(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){for(var e,i=t.options.dashArray.split(/[, ]+/),n=[],o=0;o<i.length;o++){if(e=Number(i[o]),isNaN(e))return;n.push(e)}t.options._dashArray=n}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||y(this._redraw,this))},_extendRedrawBounds:function(t){var e;t._pxBounds&&(e=(t.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new _,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t,e=this._redrawBounds;e?(t=e.getSize(),this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var t,e,i=this._redrawBounds;this._ctx.save(),i&&(e=i.getSize(),this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,e.x,e.y),this._ctx.clip()),this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,o,s,a=t._parts,r=a.length,l=this._ctx;if(r){for(l.beginPath(),i=0;i<r;i++){for(n=0,o=a[i].length;n<o;n++)s=a[i][n],l[n?"lineTo":"moveTo"](s.x,s.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){var e,i,n,o;this._drawing&&!t._empty()&&(e=t._point,i=this._ctx,n=Math.max(Math.round(t._radius),1),1!=(o=(Math.max(Math.round(t._radiusY),1)||n)/n)&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(e.x,e.y/o,n,0,2*Math.PI,!1),1!=o&&i.restore(),this._fillStroke(i,t))},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,n=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(n)&&(("click"===t.type||"preclick"===t.type)&&this._map._draggableMoved(e)||(i=e));this._fireEvent(!!i&&[i],t)},_onMouseMove:function(t){var e;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(e=this._map.mouseEventToLayerPoint(t),this._handleMouseHover(t,e))},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(E(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,n,o=this._drawFirst;o;o=o.next)(i=o.layer).options.interactive&&i._containsPoint(e)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(t),n)&&(C(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(r(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e,i,n=t._order;n&&(e=n.next,i=n.prev,e)&&((e.prev=i)?i.next=e:e&&(this._drawFirst=e),n.prev=this._drawLast,(this._drawLast.next=n).next=null,this._drawLast=n,this._requestRedraw(t))},_bringToBack:function(t){var e,i,n=t._order;n&&(e=n.next,i=n.prev)&&((i.next=e)?e.prev=i:i&&(this._drawLast=i),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(t))}});function Wi(t){return x.canvas?new ji(t):null}var Hi=(()=>{try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ct={_initContainer:function(){this._container=T("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ri.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Hi("shape");C(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Hi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[l(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;P(e),t.removeInteractiveTarget(e),delete this._layers[l(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,o=t._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(e=e||(t._stroke=Hi("stroke")),o.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=d(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(o.removeChild(e),t._stroke=null),n.fill?(i=i||(t._fill=Hi("fill")),o.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(o.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){de(t._container)},_bringToBack:function(t){pe(t._container)}},Fi=x.vml?Hi:ut,Ui=Ri.extend({_initContainer:function(){this._container=Fi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Fi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){P(this._container),z(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){var t,e,i;this._map._animatingZoom&&this._bounds||(Ri.prototype._update.call(this),e=(t=this._bounds).getSize(),i=this._container,this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),k(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update"))},_initPath:function(t){var e=t._path=Fi("path");t.options.className&&C(e,t.options.className),t.options.interactive&&C(e,"leaflet-interactive"),this._updateStyle(t),this._layers[l(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){P(t._path),t.removeInteractiveTarget(t._path),delete this._layers[l(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,t=t.options;e&&(t.stroke?(e.setAttribute("stroke",t.color),e.setAttribute("stroke-opacity",t.opacity),e.setAttribute("stroke-width",t.weight),e.setAttribute("stroke-linecap",t.lineCap),e.setAttribute("stroke-linejoin",t.lineJoin),t.dashArray?e.setAttribute("stroke-dasharray",t.dashArray):e.removeAttribute("stroke-dasharray"),t.dashOffset?e.setAttribute("stroke-dashoffset",t.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),t.fill?(e.setAttribute("fill",t.fillColor||t.color),e.setAttribute("fill-opacity",t.fillOpacity),e.setAttribute("fill-rule",t.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,dt(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),n="a"+i+","+(Math.max(Math.round(t._radiusY),1)||i)+" 0 1,0 ",e=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(t,e)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){de(t._path)},_bringToBack:function(t){pe(t._path)}});function Vi(t){return x.svg||x.vml?new Ui(t):null}x.vml&&Ui.include(Ct),I.include({getRenderer:function(t){return t=(t=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(t){var e;return"overlayPane"!==t&&void 0!==t&&(void 0===(e=this._paneRenderers[t])&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e)},_createRenderer:function(t){return this.options.preferCanvas&&Wi(t)||Vi(t)}});var Gi=vi.extend({initialize:function(t,e){vi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=g(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),pt=(Ui.create=Fi,Ui.pointsToPath=dt,yi.geometryToLayer=bi,yi.coordsToLatLng=xi,yi.coordsToLatLngs=Ti,yi.latLngToCoords=Pi,yi.latLngsToCoords=Li,yi.getFeature=Ci,yi.asFeature=Ei,I.mergeOptions({boxZoom:!0}),n.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){S(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){z(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){P(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),ne(),be(),this._startPoint=this._map.mouseEventToContainerPoint(t),S(document,{contextmenu:Be,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=T("div","leaflet-zoom-box",this._container),C(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=(t=new _(this._point,this._startPoint)).getSize();k(this._box,t.min),this._box.style.width=e.x+"px",this._box.style.height=e.y+"px"},_finish:function(){this._moved&&(P(this._box),E(this._container,"leaflet-crosshair")),Ce(),we(),z(document,{contextmenu:Be,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){1!==t.which&&1!==t.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0),t=new s(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})))},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}})),Et=(I.addInitHook("addHandler","boxZoom",pt),I.mergeOptions({doubleClickZoom:!0}),n.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,i=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}})),Ki=(I.addInitHook("addHandler","doubleClickZoom",Et),I.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),n.extend({addHooks:function(){var t;this._draggable||(t=this._map,this._draggable=new Ke(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))),C(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){E(this._map._container,"leaflet-grab"),E(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t,e=this._map;e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(t=g(this._map.options.maxBounds),this._offsetLimit=p(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){var e,i;this._map.options.inertia&&(e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(i),this._times.push(e),this._prunePositions(e)),this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;1<this._positions.length&&50<t-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){var t,e;this._viscosity&&this._offsetLimit&&(t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit,t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t))},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=((o=this._draggable._newPos.x)-e+i)%t+e-i,o=(o+e+i)%t-e-i,t=Math.abs(n+i)<Math.abs(o+i)?n:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=t},_onDragEnd:function(t){var e,i,n,o,s=this._map,a=s.options,r=!a.inertia||t.noInertia||this._times.length<2;s.fire("dragend",t),!r&&(this._prunePositions(+new Date),t=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,e=a.easeLinearity,r=(t=t.multiplyBy(e/r)).distanceTo([0,0]),i=Math.min(a.inertiaMaxSpeed,r),t=t.multiplyBy(i/r),n=i/(a.inertiaDeceleration*e),(o=t.multiplyBy(-n/2).round()).x||o.y)?(o=s._limitOffset(o,s.options.maxBounds),y(function(){s.panBy(o,{duration:n,easeLinearity:e,noMoveStart:!0,animate:!0})})):s.fire("moveend")}})),At=(I.addInitHook("addHandler","dragging",Ki),I.mergeOptions({keyboard:!0,keyboardPanDelta:80}),n.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),S(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),z(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var t,e,i;this._focused||(i=document.body,t=document.documentElement,e=i.scrollTop||t.scrollTop,i=i.scrollLeft||t.scrollLeft,this._map._container.focus(),window.scrollTo(i,e))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){for(var e=this._panKeys={},i=this.keyCodes,n=0,o=i.left.length;n<o;n++)e[i.left[n]]=[-1*t,0];for(n=0,o=i.right.length;n<o;n++)e[i.right[n]]=[t,0];for(n=0,o=i.down.length;n<o;n++)e[i.down[n]]=[0,t];for(n=0,o=i.up.length;n<o;n++)e[i.up[n]]=[0,-1*t]},_setZoomDelta:function(t){for(var e=this._zoomKeys={},i=this.keyCodes,n=0,o=i.zoomIn.length;n<o;n++)e[i.zoomIn[n]]=t;for(n=0,o=i.zoomOut.length;n<o;n++)e[i.zoomOut[n]]=-t},_addHooks:function(){S(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){z(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i,n=t.keyCode,o=this._map;if(n in this._panKeys)o._panAnim&&o._panAnim._inProgress||(i=this._panKeys[n],t.shiftKey&&(i=f(i).multiplyBy(3)),o.options.maxBounds&&(i=o._limitOffset(f(i),o.options.maxBounds)),o.options.worldCopyJump?(e=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(i))),o.panTo(e)):o.panBy(i));else if(n in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!o._popup||!o._popup.options.closeOnEscapeKey)return;o.closePopup()}Be(t)}}})),kt=(I.addInitHook("addHandler","keyboard",At),I.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),n.extend({addHooks:function(){S(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){z(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=qe(t),i=this._map.options.wheelDebounceTime,e=(this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date),Math.max(i-(+new Date-this._startTime),0));clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),e),Be(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0,n=(t._stop(),this._delta/(4*this._map.options.wheelPxPerZoomLevel)),n=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,i=i?Math.ceil(n/i)*i:n,n=t._limitZoom(e+(0<this._delta?i:-i))-e;this._delta=0,this._startTime=null,n&&("center"===t.options.scrollWheelZoom?t.setZoom(e+n):t.setZoomAround(this._lastMousePos,e+n))}})),St=(I.addInitHook("addHandler","scrollWheelZoom",kt),I.mergeOptions({tapHold:x.touchNative&&x.safari&&x.mobile,tapTolerance:15}),n.extend({addHooks:function(){S(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){z(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){var e;clearTimeout(this._holdTimeout),1===t.touches.length&&(e=t.touches[0],this._startPos=this._newPos=new m(e.clientX,e.clientY),this._holdTimeout=setTimeout(r(function(){this._cancel(),this._isTapValid()&&(S(document,"touchend",O),S(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),600),S(document,"touchend touchcancel contextmenu",this._cancel,this),S(document,"touchmove",this._onMove,this))},_cancelClickPrevent:function t(){z(document,"touchend",O),z(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),z(document,"touchend touchcancel contextmenu",this._cancel,this),z(document,"touchmove",this._onMove,this)},_onMove:function(t){t=t.touches[0],this._newPos=new m(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){(t=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY}))._simulated=!0,e.target.dispatchEvent(t)}})),Mt=(I.addInitHook("addHandler","tapHold",St),I.mergeOptions({touchZoom:x.touch,bounceAtZoomLimits:!0}),n.extend({addHooks:function(){C(this._map._container,"leaflet-touch-zoom"),S(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){E(this._map._container,"leaflet-touch-zoom"),z(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e,i,n=this._map;!t.touches||2!==t.touches.length||n._animatingZoom||this._zooming||(e=n.mouseEventToContainerPoint(t.touches[0]),i=n.mouseEventToContainerPoint(t.touches[1]),this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),"center"!==n.options.touchZoom&&(this._pinchStartLatLng=n.containerPointToLatLng(e.add(i)._divideBy(2))),this._startDist=e.distanceTo(i),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),S(document,"touchmove",this._onTouchMove,this),S(document,"touchend touchcancel",this._onTouchEnd,this),O(t))},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),o=i.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&1<o)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1==o)return}else{if(i=i._add(n)._divideBy(2)._subtract(this._centerPoint),1==o&&0===i.x&&0===i.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(i),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),a(this._animRequest),n=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0),this._animRequest=y(n,this,!0),O(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,a(this._animRequest),z(document,"touchmove",this._onTouchMove,this),z(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}})),Yi=(I.addInitHook("addHandler","touchZoom",Mt),I.BoxZoom=pt,I.DoubleClickZoom=Et,I.Drag=Ki,I.Keyboard=At,I.ScrollWheelZoom=kt,I.TapHold=St,I.TouchZoom=Mt,t.Bounds=_,t.Browser=x,t.CRS=ot,t.Canvas=ji,t.Circle=_i,t.CircleMarker=fi,t.Class=et,t.Control=B,t.DivIcon=Bi,t.DivOverlay=zi,t.DomEvent=mt,t.DomUtil=Ee,t.Draggable=Ke,t.Evented=it,t.FeatureGroup=hi,t.GeoJSON=yi,t.GridLayer=Di,t.Handler=n,t.Icon=ci,t.ImageOverlay=ki,t.LatLng=v,t.LatLngBounds=s,t.Layer=o,t.LayerGroup=li,t.LineUtil=gt,t.Map=I,t.Marker=pi,t.Mixin=ft,t.Path=mi,t.Point=m,t.PolyUtil=_t,t.Polygon=vi,t.Polyline=gi,t.Popup=Oi,t.PosAnimation=je,t.Projection=bt,t.Rectangle=Gi,t.Renderer=Ri,t.SVG=Ui,t.SVGOverlay=Mi,t.TileLayer=Ni,t.Tooltip=Ii,t.Transformation=rt,t.Util=tt,t.VideoOverlay=Si,t.bind=r,t.bounds=p,t.canvas=Wi,t.circle=function(t,e,i){return new _i(t,e,i)},t.circleMarker=function(t,e){return new fi(t,e)},t.control=We,t.divIcon=function(t){return new Bi(t)},t.extend=h,t.featureGroup=function(t,e){return new hi(t,e)},t.geoJSON=Ai,t.geoJson=Lt,t.gridLayer=function(t){return new Di(t)},t.icon=function(t){return new ci(t)},t.imageOverlay=function(t,e,i){return new ki(t,e,i)},t.latLng=b,t.latLngBounds=g,t.layerGroup=function(t,e){return new li(t,e)},t.map=function(t,e){return new I(t,e)},t.marker=function(t,e){return new pi(t,e)},t.point=f,t.polygon=function(t,e){return new vi(t,e)},t.polyline=function(t,e){return new gi(t,e)},t.popup=function(t,e){return new Oi(t,e)},t.rectangle=function(t,e){return new Gi(t,e)},t.setOptions=u,t.stamp=l,t.svg=Vi,t.svgOverlay=function(t,e,i){return new Mi(t,e,i)},t.tileLayer=Zi,t.tooltip=function(t,e){return new Ii(t,e)},t.transformation=lt,t.version="1.9.4",t.videoOverlay=function(t,e,i){return new Si(t,e,i)},window.L);t.noConflict=function(){return window.L=Yi,this},window.L=t}),null!=window.quizList&&null!=window.quizList||(window.quizList=[]),window.quizList.push({name:"Oil Industry - History",id:"oil-industry-history",order:"strict",questions:[{question:"Which city is home to the world's first dedicated oil refinery, established in 1856?",answer:{label:"Ploieti, Romania",lat:44.94,lng:26.03},context:"Ploieti is famously known as a pioneering city for oil refining, with innovations in refining processes beginning there in the 19th century."},{question:"Which city is known as the birthplace of the modern oil industry due to the successful drilling of the first commercial oil well in 1859?",answer:{label:"Titusville, USA",lat:41.626,lng:-79.6745},context:"Titusville, Pennsylvania, is where Edwin Drake drilled the first commercial oil well, marking the start of the modern petroleum industry."},{question:"Which city in Azerbaijan is historically significant for being the site of the first oil well drilled in 1846?",answer:{label:"Baku, Azerbaijan",lat:40.4093,lng:49.8671},context:"Baku, the capital of Azerbaijan, is known for its early oil production and as one of the first centers of the international oil industry."}]}),window.quizList.push({name:"7 Wonders of the Ancient World",id:"7-wonders-ancient",order:"strict",questions:[{question:"The only surviving wonder of the ancient world, this monumental tomb was built near Cairo, Egypt.",answer:{label:"Great Pyramid of Giza",lat:29.9792,lng:31.1342}},{question:"This legendary ascending garden was said to be located in the ancient city of Babylon, near present-day Baghdad, Iraq.",answer:{label:"Hanging Gardens of Babylon",lat:32.5364,lng:44.42}},{question:"This massive statue honoring the king of the Greek gods was located at the Temple of Zeus in this ancient Greek city.",answer:{label:"Olympia, Greece",lat:37.637,lng:21.6297}},{question:"This grand temple dedicated to the goddess Artemis was situated in the ancient city of Ephesus, near present-day Seluk, Turkey.",answer:{label:"Temple of Artemis at Ephesus",lat:37.9394,lng:27.3419}},{question:"This tomb built for Mausolus, a ruler in the Persian Empire, stood in Halicarnassus, now known as Bodrum, Turkey.",answer:{label:"Mausoleum at Halicarnassus",lat:37.0344,lng:27.43}},{question:"This giant bronze statue symbolizing the sun god Helios stood in the harbor of this Greek island city before being destroyed by an earthquake.",answer:{label:"Colossus of Rhodes",lat:36.4349,lng:28.217}},{question:"This towering lighthouse was built on the island of Pharos in the ancient city of Alexandria, Egypt, serving as a landmark for sailors.",answer:{label:"Lighthouse of Alexandria",lat:31.2001,lng:29.9187}}]}),window.quizList.push({name:"7 Wonders of the New World",id:"7-wonders-new",order:"strict",questions:[{question:"Stretching over 13,000 miles, this monumental structure was originally built to protect ancient Chinese states from invasions.",answer:{label:"Great Wall of China",lat:40.4319,lng:116.5704}},{question:"Carved into vibrant red sandstone cliffs, this ancient city in Jordan is renowned for its stunning architecture and water conduit system.",answer:{label:"Petra",lat:30.3285,lng:35.4444}},{question:"Overlooking the city of Rio de Janeiro, this iconic statue depicts Jesus with outstretched arms, symbolizing peace and welcoming.",answer:{label:"Christ the Redeemer",lat:-22.9519,lng:-43.2105}},{question:"Nestled high in the Andes Mountains, this Incan citadel is famed for its sophisticated dry-stone walls and breathtaking panoramic views.",answer:{label:"Machu Picchu",lat:-13.1631,lng:-72.545}},{question:"This large pre-Columbian archaeological site in Mexico features the massive pyramid known as El Castillo, dedicated to the serpent god Kukulcn.",answer:{label:"Chichen Itza",lat:20.6843,lng:-88.5678}},{question:"Located in the heart of Rome, this ancient amphitheater is a testament to Roman engineering and was once the venue for gladiatorial contests.",answer:{label:"Roman Colosseum",lat:41.8902,lng:12.4922}},{question:"This magnificent white marble mausoleum in India was built by Emperor Shah Jahan in memory of his beloved wife Mumtaz Mahal.",answer:{label:"Taj Mahal",lat:27.1751,lng:78.0421}}]}),window.quizList.push({name:"World Capitals",id:"world-capitals",order:"strict",questions:[{question:"Known as the Big Apple, this city is the largest in the United States.",answer:{label:"New York City",lat:40.7128,lng:-74.006}},{question:'This city is known as the "City of Light" and is the capital of France.',answer:{label:"Paris",lat:48.8566,lng:2.3522}},{question:"As the capital of Japan, this city is famous for its bustling Shibuya Crossing.",answer:{label:"Tokyo",lat:35.6895,lng:139.6917}},{question:"This capital city, located on the River Thames, is the capital of the United Kingdom.",answer:{label:"London",lat:51.5074,lng:-.1278}},{question:"Known for its historic Red Square, this city is the capital of Russia.",answer:{label:"Moscow",lat:55.7558,lng:37.6173}},{question:"This city, the capital of Canada, is known for the CN Tower.",answer:{label:"Ottawa",lat:45.4215,lng:-75.6972}},{question:"Located along the Potomac River, this city is the capital of the United States.",answer:{label:"Washington, D.C.",lat:38.9072,lng:-77.0369}},{question:"This capital city of Brazil is known for its modernist architecture and plane tree-lined avenues.",answer:{label:"Braslia",lat:-15.8267,lng:-47.9218}},{question:'Known as the "Eternal City," this is the capital of Italy.',answer:{label:"Rome",lat:41.9028,lng:12.4964}},{question:"This capital of Australia is home to the Parliament House and Lake Burley Griffin.",answer:{label:"Canberra",lat:-35.2809,lng:149.13}},{question:"As the capital of India, this city is known for its historical monuments like the Red Fort.",answer:{label:"New Delhi",lat:28.6139,lng:77.209}},{question:"This Norvegian capital is known for its beautiful waterfront and Viking history.",answer:{label:"Oslo",lat:59.9139,lng:10.7522}},{question:"Known for its colorful culture and vibrant street life, this is the capital of Mexico.",answer:{label:"Mexico City",lat:19.4326,lng:-99.1332}},{question:"This capital city of Egypt is home to the iconic Pyramids of Giza nearby.",answer:{label:"Cairo",lat:30.0444,lng:31.2357}},{question:"As the capital of South Africa, this city is one of three capitals, known for its legislative buildings.",answer:{label:"Pretoria",lat:-25.7479,lng:28.2293}},{question:"This capital of Argentina is famous for its tango dance and vibrant nightlife.",answer:{label:"Buenos Aires",lat:-34.6037,lng:-58.3816}},{question:'Known as the "Pearl of Africa," this city is the capital of Uganda.',answer:{label:"Kampala",lat:.3476,lng:32.5825}},{question:"This city serves as the capital of South Korea and is a major global technology hub.",answer:{label:"Seoul",lat:37.5665,lng:126.978}},{question:"This capital city of Greece is known for its ancient landmarks like the Acropolis.",answer:{label:"Athens",lat:37.9838,lng:23.7275}},{question:"Known for its fjords and maritime history, this is the capital of Norway.",answer:{label:"Oslo",lat:59.9139,lng:10.7522}},{question:"This capital of Thailand is famous for its ornate temples and vibrant street markets.",answer:{label:"Bangkok",lat:13.7563,lng:100.5018}}]}),window.quizList.push({name:"Chip War: Semiconductors!",id:"chip-war",order:"strict",questions:[{question:"In which city is the headquarters of Intel and AMD, located?",answer:{label:"Santa Clara, USA",lat:37.3541,lng:-121.9552},context:"Santa Clara, part of Silicon Valley, houses Intels and AMD's corporate headquarters where it leads in semiconductor manufacturing and innovation."},{question:"Which city in South Korea is renowned for being the center of Samsung Electronics, a major player in the semiconductor industry?",answer:{label:"Suwon, South Korea",lat:37.2636,lng:127.0286},context:"Suwon is known globally for being the headquarters of Samsung Electronics, a leader in semiconductor technology."},{question:"Which German city is home to one of Europes largest semiconductor manufacturers, Infineon Technologies?",answer:{label:"Munich, Germany",lat:48.1351,lng:11.582},context:"Munich hosts the headquarters of Infineon Technologies, a global leader in semiconductor solutions for power systems."},{question:"What is the name of the city known as the home of ASML, the world's largest supplier of photolithography systems for semiconductor industry?",answer:{label:"Veldhoven, Netherlands",lat:51.4188,lng:5.402},context:"ASML, based in Veldhoven, is pivotal to the semiconductor industry and supplies advanced machinery for chip manufacturers worldwide."},{question:"Where are the headquarters of Texas Instruments, one of the major American semiconductor companies, located?",answer:{label:"Dallas, USA",lat:32.7767,lng:-96.797},context:"Texas Instruments, headquartered in Dallas, is crucial in the creation of semiconductors used across various technologies."},{question:"Which city is the home of TSMC, the world's largest dedicated independent semiconductor foundry?",answer:{label:"Hsinchu, Taiwan",lat:24.8138,lng:120.9675},context:"Hsinchu Science Park houses TSMC, ensuring its position at the forefront of semiconductor manufacturing globally."},{question:"Where in China is the main operational base of SMIC, the largest semiconductor foundry on the mainland?",answer:{label:"Shanghai, China",lat:31.2304,lng:121.4737},context:"Shanghai hosts SMIC's primary operations, marking it as a critical center for semiconductor manufacturing in China."}]}),window.quizList.push({name:"World Battles",id:"world-battles",order:"strict",questions:[{question:"This battle was a turning point in the American Civil War, fought in Pennsylvania in 1863.",answer:{label:"Gettysburg",lat:40.3428,lng:-77.2311}},{question:"Known as the decisive battle where Napoleon was defeated in 1815, occurring in Belgium.",answer:{label:"Waterloo",lat:50.6809,lng:4.4128}},{question:"This battle marked the end of the Second World War in Europe, taking place in 1945 in a city that was divided among allied powers.",answer:{label:"Battle of Berlin",lat:52.52,lng:13.405}},{question:"A pivotal naval battle in 1805 where the British Royal Navy defeated the French and Spanish fleets.",answer:{label:"Battle of Trafalgar",lat:36.0602,lng:-5.6168}},{question:"This battle in 1066 led to the Norman conquest of England.",answer:{label:"Battle of Hastings",lat:50.8552,lng:.4872}},{question:"A major confrontation in 1942 between the United States and Japan in the Pacific Theater.",answer:{label:"Battle of Midway",lat:28.1956,lng:-177.3662}},{question:"This battle in 732 saw Charles Martel defeat a Muslim army, halting their advance into Western Europe.",answer:{label:"Battle of Tours",lat:47.2833,lng:.7}},{question:"This 1944 battle in Normandy was crucial for the Allied forces to establish a foothold in Western Europe.",answer:{label:"Battle of Normandy (D-Day)",lat:49.4144,lng:-.8481}},{question:"A significant World War I battle fought between the German and Allied forces in France from 1916.",answer:{label:"Battle of the Somme",lat:49.9333,lng:2.25}},{question:"This battle in 331 BC saw Alexander the Great defeat the Persian Empire near modern-day Turkey.",answer:{label:"Battle of Gaugamela",lat:36.6333,lng:43.0167}},{question:"A decisive battle in 1942 where Soviet forces halted the German advance into Moscow.",answer:{label:"Battle of Moscow",lat:55.7558,lng:37.6173}},{question:"This 1812 battle in Russia saw Napoleon's invasion fail due to harsh winter conditions.",answer:{label:"Battle of Borodino",lat:55.3139,lng:35.2844}},{question:"A crucial naval battle in 1571 where the Holy League defeated the Ottoman Empire.",answer:{label:"Battle of Lepanto",lat:38.2917,lng:15.6683}},{question:"This battle in 1941 was one of the largest encirclements in military history, fought in the Soviet Union.",answer:{label:"Battle of Kiev (1941)",lat:50.4501,lng:30.5234}},{question:"A significant World War II battle fought between the US and Germany in the Ardennes region.",answer:{label:"Battle of the Bulge",lat:49.8333,lng:5.8333}},{question:"This battle in 480 BC featured King Leonidas and the Spartans against the Persian Empire.",answer:{label:"Battle of Thermopylae",lat:39.5167,lng:22.35}},{question:"A decisive battle in 1944 where Allied forces liberated Paris from German occupation.",answer:{label:"Liberation of Paris",lat:48.8566,lng:2.3522}},{question:"This battle in 1945 was the last major German offensive on the Western Front during World War II.",answer:{label:"Battle of the Rhineland",lat:50,lng:8}},{question:"A pivotal battle in 1943 where the Soviet Union decisively defeated Nazi Germany near Stalingrad.",answer:{label:"Battle of Stalingrad",lat:48.708,lng:44.5133}}]}),window.quizList.push({name:"Historic Cities",id:"historic-cities",order:"strict",questions:[{question:"Once the capital of the Byzantine Empire, this city is now a major metropolis in Turkey.",answer:{label:"Constantinople (Istanbul)",lat:41.0082,lng:28.9784}},{question:"This ancient city, once a thriving center of Mesopotamia, is now an archaeological site in modern-day Iraq.",answer:{label:"Babylon",lat:32.5364,lng:44.42}},{question:'Known as the "Olive Tree of the World," this city was a prominent center of Christianity in ancient times.',answer:{label:"Jerusalem",lat:31.7683,lng:35.2137}},{question:"This city was the heart of the Inca Empire before being conquered and renamed by the Spanish.",answer:{label:"Cuzco (Cusco)",lat:-13.5319,lng:-71.9675}},{question:"Once the capital of the Mali Empire, this city is now a UNESCO World Heritage Site in modern Mali.",answer:{label:"Timbuktu",lat:16.7666,lng:-3.0026}},{question:"This city was the center of the Aztec Empire and is now Mexico's bustling capital.",answer:{label:"Tenochtitlan (Mexico City)",lat:19.4326,lng:-99.1332}},{question:"An ancient city famed for its hanging gardens, it is now located within modern Iraq.",answer:{label:"Nineveh",lat:36.3495,lng:43.1756}},{question:"This Silk Road city was a major cultural and economic hub in ancient Persia, now in Iran.",answer:{label:"Persepolis",lat:29.9353,lng:52.8915}},{question:"An important city in ancient Egypt, it is now submerged underwater.",answer:{label:"Thonis-Heracleion",lat:30.8,lng:31.2}},{question:"Once the capital of the Khmer Empire, it is now an archaeological site near modern-day Siem Reap.",answer:{label:"Angkor (Angkor Wat)",lat:13.4125,lng:103.8667}},{question:"Known for its magnificent architecture, this city was a cultural hub in the Ming Dynasty and is now part of modern Beijing.",answer:{label:"Beijing (Forbidden City)",lat:39.9163,lng:116.3972}},{question:"This city was the heart of the Sumerian civilization and is now an archaeological site in Iraq.",answer:{label:"Ur",lat:30.9517,lng:46.1033}}]}),window.quizList.push({name:"Dark tourism",id:"dark-tourism",order:"strict",questions:[{question:"Space complex, launch site of first human in space.",answer:{label:"Baikonur Cosmodrome, Kazakhstan",lat:45.965,lng:63.305}},{question:"The Gates of Hell, a natural gas field that has been burning continuously since 1971.",answer:{label:"Darvaza Gas Crater, Turkmenistan",lat:40.2525,lng:58.4392}},{question:"This former Nazi concentration and extermination camp in Poland is a poignant reminder of the Holocaust.",answer:{label:"Auschwitz-Birkenau, Poland",lat:50.0359,lng:19.1783}},{question:"This Ukrainian city suffered a catastrophic nuclear disaster in 1986, leading to widespread contamination and evacuation.",answer:{label:"Chernobyl, Ukraine",lat:51.276,lng:30.2219}},{question:"Located in New York City, this site marks the location of the World Trade Center towers destroyed in the 2001 terrorist attacks.",answer:{label:"Ground Zero, New York City, USA",lat:40.7115,lng:-74.0134}},{question:"This ancient Roman city was buried by a volcanic eruption in 79 AD and remains remarkably preserved.",answer:{label:"Pompeii, Italy",lat:40.746,lng:14.4989}},{question:"Situated in Cambodia, this area is known for the mass killings carried out by the Khmer Rouge regime.",answer:{label:"The Killing Fields, Cambodia",lat:13.3178,lng:103.216}},{question:"This Japanese city was devastated by an atomic bomb in 1945, and now hosts a peace memorial park. It was the first military target of a nuclear weapon in history.",answer:{label:"Hiroshima Peace Memorial Park, Japan",lat:34.3953,lng:132.4553}},{question:"This railway in Thailand was built during World War II by forced labor and is now a significant historical site.",answer:{label:"Death Railway (Thailand), Thailand",lat:14.0658,lng:99.5}},{question:"Located in Bosnia and Herzegovina, this site commemorates the genocide that took place in 1995.",answer:{label:"Srebrenica Memorial Center, Bosnia and Herzegovina",lat:44.158,lng:19.3016}},{question:"This Berlin landmark was once a symbol of division between East and West during the Cold War.",answer:{label:"Berlin Wall Memorial, Germany",lat:52.5351,lng:13.3903}},{question:"Off the coast of South Africa, this island was historically used to imprison political activists, including Nelson Mandela.",answer:{label:"Robben Island, South Africa",lat:-33.806,lng:18.367}},{question:"This site in Rwanda serves as a memorial to the victims of the 1994 genocide against the Tutsi.",answer:{label:"Kigali Genocide Memorial, Rwanda",lat:-1.9403,lng:30.0588}},{question:"Located in the United States, this national cemetery is the final resting place for countless soldiers from various wars.",answer:{label:"Arlington National Cemetery, USA",lat:38.886,lng:-77.091}}]}),window.quizList.push({name:"Books!",id:"books",order:"strict",questions:[{question:"The city of Metropolis in the Superman comics is inspired by which real-world American city?",answer:{label:"New York City, USA",lat:40.7128,lng:-74.006},context:"Metropolis embodies the bustling and diverse nature of New York City, serving as a symbol of hope and resilience in the Superman narrative."},{question:"J.K. Rowlings Diagon Alley is believed to be inspired by which famous London street?",answer:{label:"Charing Cross Road, London",lat:51.5112,lng:-.1249},context:"Charing Cross Roads vibrant atmosphere and diverse shops influenced the magical ambiance of Diagon Alley in the Harry Potter series."},{question:'So it goes, a recurring phrase in Kurt Vonneguts "Slaughterhouse-Five," refers to the acceptance of fate. The novel is set in this German city during WWII.',answer:{label:"Dresden, Germany",lat:51.0504,lng:13.7373}},{question:'The Louvre Pyramid is featured in Dan Browns "The Da Vinci Code."',answer:{label:"Louvre Pyramid, Paris",lat:48.8606,lng:2.3376}},{question:"Endurance was the ship in which Sir Ernest Shackleton and a crew of 27 men sailed for the Antarctic on the 19141917 Imperial Trans-Antarctic Expedition. Where was the last port of call before the ship was lost to the ice?",answer:{label:"the whaling station at Grytviken on the island of South Georgia",lat:-54.2815064,lng:-36.5101987}},{question:"Where did the crew of the Endurance abandon ship?",answer:{label:"The wreck of Endurance",lat:-69.739167,lng:-52.329722}}]}),window.quizList.push({name:"Oil Industry - Basic",id:"oil-industry-basic",order:"strict",questions:[{question:"Which is the headquarters city of OPEC, the Organization of the Petroleum Exporting Countries?",answer:{label:"Vienna, Austria",lat:48.2082,lng:16.3738},context:"OPEC, established in 1960, has its headquarters in Vienna, a neutral ground where members coordinate oil production policies."},{question:"Which city is the central hub of Russia's oil industry, home to the headquarters of Gazprom Neft?",answer:{label:"Saint Petersburg, Russia",lat:59.9343,lng:30.3351},context:"Saint Petersburg is the headquarters for Gazprom Neft, managing some of the largest oil and gas operations in Russia."},{question:"What city serves as the operational headquarters for the multinational oil giant, ExxonMobil?",answer:{label:"Irving, Texas, USA",lat:32.814,lng:-96.9489},context:"Irving in Texas is the location of ExxonMobil's headquarters, one of the largest publicly traded oil and gas companies in the world."},{question:"Which city boasts the largest oil refinery in the world, the Jamnagar Refinery?",answer:{label:"Jamnagar, India",lat:22.4707,lng:70.0577},context:"The Jamnagar Refinery, located in Jamnagar, India, is the world's largest oil refinery, significantly bolstering India's energy production capabilities."},{question:"Which city is home to the world's largest onshore oil field, the Ghawar Field?",answer:{label:"Al-Hasa, Saudi Arabia",lat:25,lng:49.6667},context:"The Ghawar Field, located near Al-Hasa, is the largest conventional oil field in the world, contributing significantly to Saudi Arabia's oil production."},{question:"Which city is considered the heart of the North Sea oil industry?",answer:{label:"Aberdeen, Scotland",lat:57.1497,lng:-2.0943},context:"Aberdeen is known as the 'Oil Capital of Europe' due to its critical role in the North Sea oil and gas sector."},{question:"What is the largest oil-producing city in Texas, often referred to as the energy capital of the world?",answer:{label:"Houston, Texas, USA",lat:29.7604,lng:-95.3698},context:"Houston's economy is heavily driven by the energy sector, boasting many headquarters of prominent oil and gas companies."}]}),window.quizList.push({name:"Atomic power - the good, the bad and the ugly",id:"atomic-power",order:"strict",questions:[{question:"Location of the world's first artificial nuclear reactor (CP-1), was constructed under the stands of which university's football stadium?",answer:{label:"University of Chicago, USA",lat:41.7886,lng:-87.5987},context:"Constructed as part of the Manhattan Project, Chicago Pile-1 achieved the first controlled nuclear chain reaction on December 2, 1942, under the stands of Stagg Field at the University of Chicago."},{question:"Where is the world's largest uranium mine by production located?",answer:{label:"Cigar Lake Project, Canada",lat:58.0801,lng:-105.1748},context:"Cigar Lake in Saskatchewan, Canada, accounts for 14 percent of global production."},{question:"The world's first commercial nuclear power station was built in which town?",answer:{label:"Calder Hall, Sellafield, UK",lat:54.4226,lng:-3.5034},context:"Calder Hall at Sellafield in the UK was the world's first nuclear power station to deliver electricity in a commercial capacity, opening on October 17, 1956."},{question:"Location of the first commercial nuclear power plant in the US?",answer:{label:"Shippingport, Pennsylvania, USA",lat:40.6223,lng:-80.4273},context:"On May 26, 1958, the first commercial nuclear power plant in the United States, Shippingport Atomic Power Station, was opened by President Dwight D. Eisenhower as part of his Atoms for Peace program."},{question:"This Nuclear Power Plant is unique as it was fully constructed but never went into operation. It's located in a country that has no operational nuclear power plants.",answer:{label:"Zwentendorf an der Donau, Austria",lat:48.3492,lng:15.8997},context:"The Zwentendorf Nuclear Power Plant in Austria was completed in the late 1970s, but a referendum prevented it from becoming operational, marking a significant moment in Austrian energy policy."},{question:"Where is the ITER, the world's largest experimental nuclear fusion reactor, being constructed?",answer:{label:"Cadarache, France",lat:43.7033,lng:5.7522},context:"The ITER project aims to demonstrate the feasibility of nuclear fusion as a large-scale and carbon-free source of energy."},{question:"In which city did the largest nuclear disaster in history occur in 1986?",answer:{label:"Chernobyl, Ukraine",lat:51.2769,lng:30.2213},context:"The Chernobyl disaster is considered the worst nuclear power plant accident in history, both in terms of cost and casualties."},{question:"Location of a major nuclear disaster in 2011 following a tsunami.",answer:{label:"Fukushima, Japan",lat:37.7608,lng:140.4747},context:"The Fukushima disaster prompted widespread discussion on the safety of nuclear energy, significantly impacting global energy policies."},{question:"Location of the most serious accident in U.S. commercial nuclear power plant history?",answer:{label:"Three Mile Island, Pennsylvania, USA",lat:40.1538,lng:-76.7278},context:"The Three Mile Island accident, which took place on March 28, 1979, was the most serious accident in U.S. commercial nuclear power plant history, leading to widespread changes in nuclear safety regulations."},{question:"The Trinity test, the first detonation of a nuclear weapon as part of the Manhattan Project, took place at which location?",answer:{label:"Trinity Site, New Mexico, USA",lat:33.6773,lng:-106.4756},context:"The Trinity test, conducted on July 16, 1945, at the White Sands Proving Ground in New Mexico, marked the world's first nuclear explosion and was a pivotal step in the development of atomic weapons."},{question:"The Polygon, a primary nuclear testing site during the Cold War, is located in the former Soviet Republic? Where exactly?",answer:{label:"Semipalatinsk Test Site, Kazakhstan",lat:50.4,lng:77.8},context:"The Semipalatinsk Test Site (also known as 'The Polygon') was the primary testing site for the Soviet Union, with 456 nuclear tests conducted from 1949 to 1989, leaving significant environmental and health impacts."},{question:"The first city targeted by an atomic bomb during World War II.",answer:{label:"Hiroshima, Japan",lat:34.3853,lng:132.4553},context:"On August 6, 1945, the first atomic bomb used in warfare was dropped on Hiroshima by the United States, resulting in massive destruction and loss of life."},{question:"The second city to experience an atomic bomb attack during World War II.",answer:{label:"Nagasaki, Japan",lat:32.7503,lng:129.8777},context:"Following the bombing of Hiroshima, the United States dropped a second atomic bomb on Nagasaki on August 9, 1945, leading to Japan's eventual surrender and the end of World War II."}]}),window.quizList.push({name:"The French Revolution",id:"viva-la-revolution",scale:5,map:{lat:48.8566,lng:2.3522,zoom:12},order:"strict",questions:[{question:"Where in Paris was the Bastille fortress located, whose storming marked the start of the French Revolution in 1789?",answer:{label:"Place de la Bastille, Paris, France",lat:48.8529,lng:2.3694},context:"The fall of the Bastille on July 14, 1789, symbolized the end of the king's absolute power and the birth of the people's sovereignty."},{question:"Which palace was the location of the Women's March on ---, where women demanded bread and political reform?",answer:{label:"Palace of Versailles, Versailles, France",lat:48.8049,lng:2.1204},context:"On October 5, 1789, thousands of Parisians marched to Versailles, which pressured King Louis XVI to return to Paris."},{question:"What is the name of the square in Paris where King Louis XVI was executed by guillotine in 1793?",answer:{label:"Place de la Concorde, Paris, France",lat:48.8656,lng:2.3212},context:"Formerly known as Place de la Rvolution, it was the site where King Louis XVI and many others were guillotined."},{question:"Where was the National Constituent Assembly formed, which laid foundations for modern political systems during the Revolution?",answer:{label:"Tennis Court, Versailles, France",lat:48.8047,lng:2.1204},context:"The Tennis Court Oath on June 20, 1789, was a pivotal event, where the National Assembly vowed not to disband until a new constitution was established."},{question:"Which location in Paris served as the revolutionary tribunal and prison known for the Reign of Terror?",answer:{label:"Conciergerie, Paris, France",lat:48.8554,lng:2.3451},context:"The Conciergerie was a primary detention center for those deemed enemies of the revolution from 1793 to 1794."},{question:"Which church became the 'Temple of Reason' during the de-Christianization movement of the Revolution?",answer:{label:"Notre-Dame Cathedral, Paris, France",lat:48.853,lng:2.3499},context:"During the revolution, the Notre-Dame Cathedral was rededicated to the Cult of Reason, symbolizing the replacement of religious dogma with rational thought."},{question:"Where was the headquarters of the French Revolution's most radical political group, the Jacobins?",answer:{label:"Dominican Monastery, Rue Saint-Honor, Paris, France",lat:48.8648,lng:2.3435},context:"The Jacobin Club was a political group advocating for republicanism and led by figures like Robespierre."},{question:"Which building witnessed the signing of the Constitution of 1791 that established constitutional monarchy in France?",answer:{label:"Palais Bourbon, Paris, France",lat:48.8605,lng:2.3186},context:"The Palais Bourbon is now home to the French National Assembly, which played a key role in establishing legislative reforms during the revolution."},{question:"Where in Paris was the revolutionary public execution device, the guillotine, infamously located during the Reign of Terror?",answer:{label:"Place de la Rvolution (now Place de la Concorde), Paris, France",lat:48.8656,lng:2.3212},context:"The site was synonymous with political purges and was a grim symbol of the radical phase of the revolution."},{question:"Which venue hosted the Festival of the Supreme Being, celebrating a new revolutionary religion introduced by Robespierre?",answer:{label:"Champ de Mars, Paris, France",lat:48.8566,lng:2.2986},context:"The festival represented an effort to unify citizens under the Cult of the Supreme Being, promoting civic virtue and morality."}]}),window.quizList.push({name:"Pick 10 Random Questions",id:"random",order:"strict",questions:[]});var latestGuess=null,question=null,answer=null,allowNewMarkerPlacement=!0,totalPoints=0,answered=0,currentQuiz=null;let resultsModal=new bootstrap.Modal(document.getElementById("resultsModal"),{backdrop:"static",keyboard:!1}),categoriesModal=new bootstrap.Modal(document.getElementById("categoriesModal"),{});function animateMarker(t){let e=t._icon,i=t._shadow,n=(e.style.transition="all 0s",i.style.transition="all 0s",e.style.transform),o=e.style.transform;e.style.transform=n+" translateY(-1000px)",i.style.transform=o+" translateY(-1000px)",setTimeout(function(){e.style.transition="all 0.4s",i.style.transition="all 0.4s",e.style.transform=n,i.style.transform=o},100),setTimeout(function(){e.style.transition="",i.style.transition=""},500)}function displayResults(t,e){"daily"===e.id?document.getElementById("dailyResultsMessage").style.display="block":document.getElementById("dailyResultsMessage").style.display="none",document.getElementById("pointsInDialog").innerText="Results: "+e.name,document.getElementById("pointsInDialog").innerText=t,document.getElementById("possiblePoints").innerText=100*e.questions.length,document.getElementById("pointsPct").innerText=Math.round(t/(100*e.questions.length)*100)+"%";let i=document.querySelector("#resultsModal .answers");i.innerHTML="",e.results.forEach(t=>{var e=document.createElement("li");e.innerHTML=getResultEmoji(t.points)+`<strong>${t.answer.label}</strong> - ${(t.distance/1e3).toFixed(2)}km off target`,i.appendChild(e)}),document.getElementById("copyBtn").innerText="Share results (without spoilers)",resultsModal.show()}function getResultEmoji(t){return 90<t?"":75<t?"":50<t?"":""}function copyResultToClipboard(){var t=Math.round(totalPoints/(100*currentQuiz.questions.length)*100)+"%",e=100*currentQuiz.questions.length,i="https://mkorosec.github.io/#"+currentQuiz.id,n="",t=(currentQuiz.results.forEach(t=>{n+=getResultEmoji(t.points)}),`"${currentQuiz.name}" quiz results: Accuracy ${t}, got ${totalPoints}/${e} points. Try it yourself at ${i}
`+n);navigator.clipboard.writeText(t).then(()=>{document.getElementById("copyBtn").innerText="Copied to clipboard!"})}function getLastPlayedDailyHashCode(){return localStorage.getItem("lastPlayedDailyHashCode")}function setLastPlayedDailyHashCode(t){t=JSON.stringify(t).hashCode();localStorage.setItem("lastPlayedDailyHashCode",t)}function startQuiz(i){if("daily"===i.id){var e=JSON.stringify(i.questions).hashCode().toString();if(localStorage.getItem("lastPlayedDailyHashCode")===e){var e=JSON.parse(localStorage.getItem("dailyQuizResults")),n=localStorage.getItem("dailyQuizTotalPoints");let t=window.quizList.find(t=>"daily"===t.id);return t.results=e,void displayResults(totalPoints=n,currentQuiz=t)}}if("random"===i.id){let e=[];window.quizList.forEach(t=>{t.questions.forEach(t=>{e.push(t)})}),i.questions=[];for(let t=0;t<10;t++){var o=Math.floor(Math.random()*e.length);i.questions.push(e[o]),e.splice(o,1)}}(currentQuiz=i).questionsIndex=0,currentQuiz.results=[],answered=totalPoints=0,categorySelect.value=i.name,document.getElementById("quizName").innerText=i.name,document.getElementById("allAnswers").innerText=i.questions.length,document.getElementById("allPoints").innerText=100*i.questions.length,document.getElementById("answers").innerText="0",document.getElementById("points").innerText="0",nextQuestion(),categoriesModal.hide(),resultsModal.hide(),"strict"!==i.order&&(i.questions=shuffle(i.questions)),void 0!==currentQuiz.map?(void 0!==currentQuiz.map.lat&&void 0!==currentQuiz.map.lng?setTimeout(()=>{map.setView([currentQuiz.map.lat,currentQuiz.map.lng])},100):map.setView([20,0],2),void 0!==currentQuiz.map.zoom?map.setZoom(currentQuiz.map.zoom):map.setZoom(2)):map.setView([20,0],2)}function changeCategoryModal(){categoriesModal.show(),resultsModal.hide()}function changeCategory(t){if(t){for(var e,i=null!=currentQuiz?currentQuiz.id:null;(e=window.quizList[Math.floor(Math.random()*window.quizList.length)]).id===i;);startQuiz(e)}else{let e=document.getElementById("categorySelect").value;var n=!1;window.quizList.forEach(t=>{t.name===e&&(n=!0,startQuiz(currentQuiz=t))}),n||console.error("Unknown category:",e)}categoriesModal.hide()}function evaluateResult(t){var e=500,t=(void 0!==currentQuiz.scale&&(e=currentQuiz.scale),Math.round(100*Math.exp(-t/e)));let i;return{points:t,label:i=95<t?"bullseye!":90<t?"nice - very close!":80<t?"nice - close!":70<t?"not bad - but there's room for improvement!":60<t?"better aim next time!":20<t?"you can do better!":"far off the mark!"}}function makeDraggable(e){let i=0,n=0,o=0,s=0;var t=t=>{o=t.clientX,s=t.clientY,document.onmouseup=r,document.onmousemove=a};let a=t=>{i=o-t.clientX,n=s-t.clientY,o=t.clientX,s=t.clientY,e.style.top=e.offsetTop-n+"px",e.style.left=e.offsetLeft-i+"px"},r=()=>{document.onmouseup=null,document.onmousemove=null};e.querySelector(".modal-header")?e.querySelector(".modal-header").onmousedown=t:e.onmousedown=t}String.prototype.hashCode=function(){var t,e=0;if(0!==this.length)for(t=0;t<this.length;t++)e=(e<<5)-e+this.charCodeAt(t),e|=0;return e},makeDraggable(document.getElementById("floatingDialog"));